<!-- header 模块 -->
<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta name="description" content="reduxjs">
  <meta name="keywords" content="reduxjs,reduxjs,reduxjs">
  <title>
    reduxjs
  </title>
  <link href="https://iframe.kangkk.cn/static/ico/kk_com_favicon.ico" type="image/x-icon" rel="shortcut icon">
  <!--[if lt IE 9]>
        <script crossorigin="anonymous" integrity="sha384-fkm9nLbWSgWvs5dRrT+4CAGQLxkueuCwSOSUV93eD7Pk8j+XnFK76jBBn2fexZd1" src="https://lib.baomitu.com/html5shiv/3.7/html5shiv-printshiv.min.js"></script>
    <![endif]-->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"
    integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <link crossorigin="anonymous" integrity="sha384-9Z9AuAj0Xi0z7WFOSgjjow8EnNY9wPNp925TVLlAyWhvZPsf5Ks23Ex0mxIrWJzJ"
  href="https://lib.baomitu.com/normalize/8.0.1/normalize.min.css" rel="stylesheet">
<script src="https://at.alicdn.com/t/c/font_4065255_1yvdewucu3p.js" type="text/javascript"></script>
<style type="text/css">
@font-face {
  font-family: 'iconfont';  /* Project id 2193116 */
  src: url('https://at.alicdn.com/t/c/font_2193116_x5p38zrimgm.woff2?t=1684057313326') format('woff2'),
       url('https://at.alicdn.com/t/c/font_2193116_x5p38zrimgm.woff?t=1684057313326') format('woff'),
       url('https://at.alicdn.com/t/c/font_2193116_x5p38zrimgm.ttf?t=1684057313326') format('truetype');
}
.iconfont{
  font-family: "iconfont" !important;
  font-size: 14px;
  font-style: normal;
  -webkit-font-smoothing: antialiased;
  -webkit-text-stroke-width: 0.2px;
  -moz-osx-font-smoothing: grayscale;
  color: #707070;
}
</style>
<style type="text/css">
  .icon {
    width: 1em;
    height: 1em;
    vertical-align: -0.15em;
    fill: currentColor;
    overflow: hidden;
  }
</style>
  <style type="text/css">
    .page__body {
      width: 900px;
      margin: 0 auto;
    }
  </style>
</head>

<body class="page__body">
  <style type="text/css">
  .header {
    width: 250px;
  }
  .header--title {
    font-family: Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
    display: inline-block;
    color: #11181b;
    font-size: 28px;
    transform: rotateX(180deg) rotateY(180deg);
  }
  .header--title a {
    text-decoration: none;
    color: #11181b;
  }
  .hr-link {
    background-color: #bbb;
    background-image: -webkit-linear-gradient(0deg,#fff,#bbb,#fff);
    border: 0;
    height: 1px;
    margin: 0 0 20px;
  }
  .header--title_sup {
    vertical-align: super;
  }
  .header--title_sub {
    font-size: 30px;
    vertical-align: bottom;
  }
</style>
<header class="header">
  <h1><sub><svg class="icon header--title_sub" aria-hidden="true"><use xlink:href="#kk-hudielan"></use></svg></sub><span class="header--title"><a href="https://kangkk.com/">KangKK</a></span><sup class="iconfont header--title_sup">&#xe606;</sup></h1>
  <hr class="hr-link">
</header>

  <style type="text/css">
    .page__header-title {
      font-size: 12px;
    }
    .page__header-title span {
      margin-left: 50px;
    }
  </style>
  <p class="page__header-title"><span>多读书，多运动，多到远处走走，再看看不一样的世界。</span></p>
  <hr>
<style type="text/css">
  body {
    width: 100% !important;
  }

  body>header,
  body>footer,
  body>hr,
  .page__header-title,
  .page__footer-content {
    width: 900px !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  .page__longan-container {
    position: relative;
    margin: 2em auto;
    padding: 1em 0;
    box-sizing: border-box;
    direction: ltr;
    line-height: 1.8;
    font-size: 14px;
    color: #30404f;
  }

  .page__longan-container h1 {
    color: #123;
    font-weight: bold;
    text-transform: uppercase;
    margin: 30px 0 15px;
    text-align: center;
    font-size: 24px;
    overflow: visible;
    padding: 0;
    direction: ltr;
    word-wrap: break-word;
  }

  #container {
    min-height: 100%;
  }

  #container-show {
    position: relative;
  }

  .annotation ol,
  .annotation ul {
    margin: 25px 0;
  }

  .annotation ol li,
  .annotation ul li {
    font-size: 14px;
    line-height: 18px;
    margin: 5px 0;
  }

  .annotation pre {
    display: block;
    margin: 0;
    padding: 7px 10px;
    background: #fcfcfc;
    -moz-box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    -webkit-box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    overflow-x: auto;
  }

  .annotation pre code {
    border: 0;
    padding: 0;
    background: transparent;
  }
  .annotation code, ul.sections>li>div.annotation p tt {
    background: #f8f8ff;
    border: 1px solid #dedede;
    font-size: 12px;
    padding: 0 0.2em;
  }
  blockquote {
    border-left: 2px solid #ccc;
    margin: 0;
    padding: 1px 0 1px 1em;
  }

  .sections blockquote p {
    font-family: Menlo, Consolas, Monaco, monospace;
    color: #999;
    margin: 10px 0 0;
    white-space: pre-wrap;
  }

  ul.sections {
    list-style: none;
    padding: 0 0 5px;
    margin: 0;
  }

  /*---------------------- Syntax Highlighting -----------------------------*/
  td.linenos {
    background-color: #f0f0f0;
    padding-right: 10px;
  }

  span.lineno {
    background-color: #f0f0f0;
    padding: 0 5px;
  }

  #container {
    position: relative;
  }

  code,
  pre,
  tt {
    line-height: 18px;
  }

  ol,
  p,
  ul {
    margin: 0 0 15px;
  }

  #jump_to {
    padding: 5px 10px;
  }

  #jump_wrapper {
    padding: 0;
  }

  #jump_page,
  #jump_to {
    font: 10px Arial;
    text-transform: uppercase;
  }

  #jump_page .source {
    padding: 5px 10px;
  }

  #jump_to a.large {
    display: inline-block;
  }

  #jump_to a.small {
    display: none;
  }

  #background {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 525px;
    background: #f5f5f5;
    /* border-right: 1px solid #e5e5ee; */
    z-index: -1;
    border-radius: 10px;
  }

  #ul-show {
    background: transparent;
  }

  ul.sections>li>div.annotation ol,
  ul.sections>li>div.annotation ul {
    padding-left: 40px;
  }

  ul.sections>li {
    white-space: nowrap;
  }

  ul.sections>li>div {
    display: inline-block;
  }
  ul.sections>li>div {
    box-sizing: border-box;
  }
  ul.sections>li>div.annotation {
    max-width: 525px;
    min-width: 525px;
    padding: 10px 25px 1px 50px;
    min-height: 5px;
    overflow-x: hidden;
    white-space: normal;
    vertical-align: top;
    text-align: left;
  }

  ul.sections>li>div.annotation pre {
    margin: 15px 0;
    padding-left: 15px;
  }

  ul.sections>li>div.content {
    max-width: 700px;
    vertical-align: top;
    border: none;
    box-shadow: none;
    padding: 0 15px 14px 25px;
  }

  ul.sections>li>div.content .highlight pre code {
    background: 0 0;
    padding-top: 0;
  }

  .pilwrap {
    position: relative;
    display: inline;
  }

  .pilcrow {
    font: 14px Arial;
    text-decoration: none;
    color: #454545;
    position: absolute;
    top: 3px;
    left: -20px;
    padding: 1px 2px;
    opacity: 0;
    -webkit-transition: opacity 0.2s linear;
  }

  .for-h1 .pilcrow {
    top: 47px;
  }

  .for-h2 .pilcrow,
  .for-h3 .pilcrow,
  .for-h4 .pilcrow {
    top: 35px;
  }

  ul.sections>li>div.annotation:hover .pilcrow {
    opacity: 1;
  }

  /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/
  pre code {
    display: block;
    padding: 0.5em;
    color: #000;
    background: #f8f8ff;
  }

  pre .hljs-comment,
  pre .hljs-diff .hljs-header,
  pre .hljs-javadoc,
  pre .hljs-template_comment {
    color: #408080;
    font-style: italic;
  }

  pre .hljs-assignment,
  pre .hljs-css .hljs-rule .hljs-keyword,
  pre .hljs-javascript .hljs-title,
  pre .hljs-keyword,
  pre .hljs-lisp .hljs-title,
  pre .hljs-literal,
  pre .hljs-subst,
  pre .hljs-winutils {
    color: #954121;
    /*font-weight: bold*/
  }

  pre .hljs-hexcolor,
  pre .hljs-number {
    color: #40a070;
  }

  pre .hljs-phpdoc,
  pre .hljs-string,
  pre .hljs-tag .hljs-value,
  pre .hljs-tex .hljs-formula {
    color: #219161;
  }

  pre .hljs-id,
  pre .hljs-title {
    color: #19469D;
  }

  pre .hljs-params {
    color: #00F;
  }

  pre .hljs-javascript .hljs-title,
  pre .hljs-lisp .hljs-title,
  pre .hljs-subst {
    font-weight: normal;
  }

  pre .hljs-class .hljs-title,
  pre .hljs-haskell .hljs-label,
  pre .hljs-tex .hljs-command {
    color: #458;
    font-weight: bold;
  }

  pre .hljs-django .hljs-tag .hljs-keyword,
  pre .hljs-rules .hljs-property,
  pre .hljs-tag,
  pre .hljs-tag .hljs-title {
    color: #000080;
    font-weight: normal;
  }

  pre .hljs-attribute,
  pre .hljs-instancevar,
  pre .hljs-lisp .hljs-body,
  pre .hljs-variable {
    color: #008080;
  }

  pre .hljs-regexp {
    color: #B68;
  }

  pre .hljs-class {
    color: #458;
    font-weight: bold;
  }

  pre .hljs-input_number,
  pre .hljs-lisp .hljs-keyword,
  pre .hljs-ruby .hljs-symbol .hljs-keymethods,
  pre .hljs-ruby .hljs-symbol .hljs-keyword,
  pre .hljs-ruby .hljs-symbol .hljs-string,
  pre .hljs-symbol,
  pre .hljs-tex .hljs-special {
    color: #990073;
  }

  pre .hljs-built_in,
  pre .hljs-builtin,
  pre .hljs-constructor,
  pre .hljs-lisp .hljs-title {
    color: #0086b3;
  }

  pre .hljs-cdata,
  pre .hljs-doctype,
  pre .hljs-pi,
  pre .hljs-preprocessor,
  pre .hljs-shebang {
    color: #999;
    font-weight: bold;
  }

  pre .hljs-deletion {
    background: #fdd;
  }

  pre .hljs-addition {
    background: #dfd;
  }

  pre .hljs-diff .hljs-change {
    background: #0086b3;
  }

  pre .hljs-chunk {
    color: #aaa;
  }

  pre .hljs-tex .hljs-formula {
    opacity: 0.5;
  }
</style>
<div id="container-hiddle" style="display: none;">
  <h1><span class="header-link" id="reduxjs">Reduxjs</span></h1><pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">webpackUniversalModuleDefinition</span>(<span class="hljs-params">root, factory</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> exports === <span class="hljs-string">'object'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> === <span class="hljs-string">'object'</span>)
    <span class="hljs-built_in">module</span>.exports = factory();
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define === <span class="hljs-string">'function'</span> &amp;&amp; define.amd)
    define([], factory);
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> exports === <span class="hljs-string">'object'</span>)
    exports[<span class="hljs-string">"Redux"</span>] = factory();
  <span class="hljs-keyword">else</span>
    root[<span class="hljs-string">"Redux"</span>] = factory();
})(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

  <span class="hljs-keyword">return</span> (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">modules</span>) </span>{
    <span class="hljs-keyword">var</span> installedModules = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__webpack_require__</span>(<span class="hljs-params">moduleId</span>) </span>{
      <span class="hljs-keyword">if</span> (installedModules[moduleId])
        <span class="hljs-keyword">return</span> installedModules[moduleId].exports;
      <span class="hljs-keyword">var</span> <span class="hljs-built_in">module</span> = installedModules[moduleId] = {
        exports: {},
        id     : moduleId,
        loaded : <span class="hljs-literal">false</span>
      };
      modules[moduleId].call(<span class="hljs-built_in">module</span>.exports, <span class="hljs-built_in">module</span>, <span class="hljs-built_in">module</span>.exports, __webpack_require__);
      <span class="hljs-built_in">module</span>.loaded = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">module</span>.exports;
    }

    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.p = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">return</span> __webpack_require__(<span class="hljs-number">0</span>);
  })

  ([
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports, __webpack_require__</span>) </span>{
<span class="hljs-meta">      'use strict'</span>;
      exports.__esModule = <span class="hljs-literal">true</span>;
      exports.compose    = exports.applyMiddleware = exports.bindActionCreators = exports.combineReducers = exports.createStore = <span class="hljs-literal">undefined</span>;
      <span class="hljs-keyword">var</span> _createStore         = __webpack_require__(<span class="hljs-number">2</span>);
      <span class="hljs-keyword">var</span> _createStore2        = _interopRequireDefault(_createStore);
      <span class="hljs-keyword">var</span> _combineReducers     = __webpack_require__(<span class="hljs-number">7</span>);
      <span class="hljs-keyword">var</span> _combineReducers2    = _interopRequireDefault(_combineReducers);
      <span class="hljs-keyword">var</span> _bindActionCreators  = __webpack_require__(<span class="hljs-number">6</span>);
      <span class="hljs-keyword">var</span> _bindActionCreators2 = _interopRequireDefault(_bindActionCreators);
      <span class="hljs-keyword">var</span> _applyMiddleware     = __webpack_require__(<span class="hljs-number">5</span>);
      <span class="hljs-keyword">var</span> _applyMiddleware2    = _interopRequireDefault(_applyMiddleware);
      <span class="hljs-keyword">var</span> _compose             = __webpack_require__(<span class="hljs-number">1</span>);
      <span class="hljs-keyword">var</span> _compose2            = _interopRequireDefault(_compose);
      <span class="hljs-keyword">var</span> _warning             = __webpack_require__(<span class="hljs-number">3</span>);
      <span class="hljs-keyword">var</span> _warning2            = _interopRequireDefault(_warning);

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_interopRequireDefault</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> obj &amp;&amp; obj.__esModule ? obj : {<span class="hljs-string">"default"</span>: obj};
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isCrushed</span>(<span class="hljs-params"></span>) </span>{
      }

      <span class="hljs-keyword">if</span> ((<span class="hljs-string">"development"</span>) !== <span class="hljs-string">'production'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> isCrushed.name === <span class="hljs-string">'string'</span> &amp;&amp; isCrushed.name !== <span class="hljs-string">'isCrushed'</span>) {
        (<span class="hljs-number">0</span>, _warning2[<span class="hljs-string">"default"</span>])(<span class="hljs-string">'You are currently using minified code outside of NODE_ENV === \'production\'. '</span> + <span class="hljs-string">'This means that you are running a slower development build of Redux. '</span> + <span class="hljs-string">'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify '</span> + <span class="hljs-string">'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) '</span> + <span class="hljs-string">'to ensure you have the correct code for your production build.'</span>);
      }
      exports.createStore        = _createStore2[<span class="hljs-string">"default"</span>];
      exports.combineReducers    = _combineReducers2[<span class="hljs-string">"default"</span>];
      exports.bindActionCreators = _bindActionCreators2[<span class="hljs-string">"default"</span>];
      exports.applyMiddleware    = _applyMiddleware2[<span class="hljs-string">"default"</span>];
      exports.compose            = _compose2[<span class="hljs-string">"default"</span>];
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports</span>) </span>{
<span class="hljs-meta">      "use strict"</span>;
      exports.__esModule = <span class="hljs-literal">true</span>;
      exports[<span class="hljs-string">"default"</span>] = compose;
      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compose</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _len = <span class="hljs-built_in">arguments</span>.length, funcs = <span class="hljs-built_in">Array</span>(_len), _key = <span class="hljs-number">0</span>; _key &lt; _len; _key++) {
          funcs[_key] = <span class="hljs-built_in">arguments</span>[_key];
        }
        <span class="hljs-keyword">if</span> (funcs.length === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">arg</span>) </span>{
            <span class="hljs-keyword">return</span> arg;
          };
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">var</span> _ret = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> last = funcs[funcs.length - <span class="hljs-number">1</span>];
            <span class="hljs-keyword">var</span> rest = funcs.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>);
            <span class="hljs-keyword">return</span> {
              v: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">v</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> rest.reduceRight(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">composed, f</span>) </span>{
                  <span class="hljs-keyword">return</span> f(composed);
                }, last.apply(<span class="hljs-literal">undefined</span>, <span class="hljs-built_in">arguments</span>));
              }
            };
          }();
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> _ret === <span class="hljs-string">"object"</span>) <span class="hljs-keyword">return</span> _ret.v;
        }
      }
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports, __webpack_require__</span>) </span>{
<span class="hljs-meta">      'use strict'</span>;
      exports.__esModule     = <span class="hljs-literal">true</span>;
      exports.ActionTypes    = <span class="hljs-literal">undefined</span>;
      exports[<span class="hljs-string">"default"</span>]     = createStore;
      <span class="hljs-keyword">var</span> _isPlainObject     = __webpack_require__(<span class="hljs-number">4</span>);
      <span class="hljs-keyword">var</span> _isPlainObject2    = _interopRequireDefault(_isPlainObject);
      <span class="hljs-keyword">var</span> _symbolObservable  = __webpack_require__(<span class="hljs-number">11</span>);
      <span class="hljs-keyword">var</span> _symbolObservable2 = _interopRequireDefault(_symbolObservable);

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_interopRequireDefault</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> obj &amp;&amp; obj.__esModule ? obj : {<span class="hljs-string">"default"</span>: obj};
      }

      <span class="hljs-keyword">var</span> ActionTypes = exports.ActionTypes = {
        INIT: <span class="hljs-string">'@@redux/INIT'</span>
      };

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createStore</span>(<span class="hljs-params">reducer, initialState, enhancer</span>) </span>{
        <span class="hljs-keyword">var</span> _ref2;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> initialState === <span class="hljs-string">'function'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> enhancer === <span class="hljs-string">'undefined'</span>) {
          enhancer     = initialState;
          initialState = <span class="hljs-literal">undefined</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> enhancer !== <span class="hljs-string">'undefined'</span>) {
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> enhancer !== <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Expected the enhancer to be a function.'</span>);
          }
          <span class="hljs-keyword">return</span> enhancer(createStore)(reducer, initialState);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> reducer !== <span class="hljs-string">'function'</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Expected the reducer to be a function.'</span>);
        }
</code></pre>
<pre><code class="lang-js">        <span class="hljs-keyword">var</span> currentReducer   = reducer;
        <span class="hljs-keyword">var</span> currentState     = initialState;
        <span class="hljs-keyword">var</span> currentListeners = [];
        <span class="hljs-keyword">var</span> nextListeners    = currentListeners;
        <span class="hljs-keyword">var</span> isDispatching    = <span class="hljs-literal">false</span>;
</code></pre>
<p>这些都是闭包变量</p>
<pre><code class="lang-js">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ensureCanMutateNextListeners</span><span class="hljs-params">()</span> </span>{
          <span class="hljs-keyword">if</span> (nextListeners === currentListeners) {
            nextListeners = currentListeners.slice();
          }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getState</span><span class="hljs-params">()</span> </span>{
          <span class="hljs-keyword">return</span> currentState;
        }
</code></pre>
<p>返回当前的state</p>
<pre><code class="lang-js">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subscribe</span>(<span class="hljs-params">listener</span>) </span>{
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> listener !== <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Expected listener to be a function.'</span>);
          }
          <span class="hljs-keyword">var</span> isSubscribed = <span class="hljs-literal">true</span>;
          ensureCanMutateNextListeners();
          nextListeners.push(listener);
          <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unsubscribe</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (!isSubscribed) {
              <span class="hljs-keyword">return</span>;
            }
            isSubscribed = <span class="hljs-literal">false</span>;
            ensureCanMutateNextListeners();
            <span class="hljs-keyword">var</span> index = nextListeners.indexOf(listener);
            nextListeners.splice(index, <span class="hljs-number">1</span>);
          };
        }
</code></pre>
<p>注册listener，同时返回一个取消事件注册的方法</p>
<pre><code class="lang-js">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dispatch</span>(<span class="hljs-params">action</span>) </span>{
          <span class="hljs-keyword">if</span> (!(<span class="hljs-number">0</span>, _isPlainObject2[<span class="hljs-string">"default"</span>])(action)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Actions must be plain objects. '</span> + <span class="hljs-string">'Use custom middleware for async actions.'</span>);
          }
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> action.type === <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Actions may not have an undefined "type" property. '</span> + <span class="hljs-string">'Have you misspelled a constant?'</span>);
          }
          <span class="hljs-keyword">if</span> (isDispatching) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Reducers may not dispatch actions.'</span>);
          }
          <span class="hljs-keyword">try</span> {
            isDispatching = <span class="hljs-literal">true</span>;
            currentState  = currentReducer(currentState, action);
          } <span class="hljs-keyword">finally</span> {
            isDispatching = <span class="hljs-literal">false</span>;
          }
          <span class="hljs-keyword">var</span> listeners = currentListeners = nextListeners;
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; listeners.length; i++) {
            listeners[i]();
          }
          <span class="hljs-keyword">return</span> action;
        }
</code></pre>
<p>通过action该改变state，然后执行subscribe注册的方法</p>
<pre><code class="lang-js">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replaceReducer</span>(<span class="hljs-params">nextReducer</span>) </span>{
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> nextReducer !== <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Expected the nextReducer to be a function.'</span>);
          }
          currentReducer = nextReducer;
          dispatch({type: ActionTypes.INIT});
        }
</code></pre>
<p>替换reducer，修改state变化的逻辑</p>
<pre><code class="lang-js">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">observable</span>(<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">var</span> _ref;
          <span class="hljs-keyword">var</span> outerSubscribe = subscribe;
          <span class="hljs-keyword">return</span> _ref = {
            subscribe: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subscribe</span>(<span class="hljs-params">observer</span>) </span>{
              <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> observer !== <span class="hljs-string">'object'</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Expected the observer to be an object.'</span>);
              }

              <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">observeState</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (observer.next) {
                  observer.next(getState());
                }
              }

              observeState();
              <span class="hljs-keyword">var</span> unsubscribe = outerSubscribe(observeState);
              <span class="hljs-keyword">return</span> {unsubscribe: unsubscribe};
            }
          }, _ref[_symbolObservable2[<span class="hljs-string">"default"</span>]] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
          }, _ref;
        }

        dispatch({type: ActionTypes.INIT});
</code></pre>
<p>初始化时，执行内部一个dispatch，得到初始state</p>
<pre><code class="lang-js">        <span class="hljs-keyword">return</span> _ref2 = {
          dispatch      : dispatch,
          subscribe     : subscribe,
          getState      : getState,
          replaceReducer: replaceReducer
        }, _ref2[_symbolObservable2[<span class="hljs-string">"default"</span>]] = observable, _ref2;
      }
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports</span>) </span>{
<span class="hljs-meta">      'use strict'</span>;
      exports.__esModule = <span class="hljs-literal">true</span>;
      exports[<span class="hljs-string">"default"</span>] = warning;
      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">warning</span>(<span class="hljs-params">message</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">console</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">console</span>.error === <span class="hljs-string">'function'</span>) {
          <span class="hljs-built_in">console</span>.error(message);
        }
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(message);
        } <span class="hljs-keyword">catch</span> (e) {
        }
      }
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports, __webpack_require__</span>) </span>{
      <span class="hljs-keyword">var</span> getPrototype     = __webpack_require__(<span class="hljs-number">8</span>),
          isHostObject     = __webpack_require__(<span class="hljs-number">9</span>),
          isObjectLike     = __webpack_require__(<span class="hljs-number">10</span>);
      <span class="hljs-keyword">var</span> objectTag        = <span class="hljs-string">'[object Object]'</span>;
      <span class="hljs-keyword">var</span> objectProto      = <span class="hljs-built_in">Object</span>.prototype;
      <span class="hljs-keyword">var</span> funcToString     = <span class="hljs-built_in">Function</span>.prototype.toString;
      <span class="hljs-keyword">var</span> hasOwnProperty   = objectProto.hasOwnProperty;
      <span class="hljs-keyword">var</span> objectCtorString = funcToString.call(<span class="hljs-built_in">Object</span>);
      <span class="hljs-keyword">var</span> objectToString   = objectProto.toString;

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isPlainObject</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">if</span> (!isObjectLike(value) ||
          objectToString.call(value) != objectTag || isHostObject(value)) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">var</span> proto = getPrototype(value);
        <span class="hljs-keyword">if</span> (proto === <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">var</span> Ctor = hasOwnProperty.call(proto, <span class="hljs-string">'constructor'</span>) &amp;&amp; proto.constructor;
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> Ctor == <span class="hljs-string">'function'</span> &amp;&amp;
        Ctor <span class="hljs-keyword">instanceof</span> Ctor &amp;&amp; funcToString.call(Ctor) == objectCtorString);
      }

      <span class="hljs-built_in">module</span>.exports = isPlainObject;
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports, __webpack_require__</span>) </span>{
<span class="hljs-meta">      'use strict'</span>;
      exports.__esModule = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">var</span> _extends       = <span class="hljs-built_in">Object</span>.assign || <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target</span>) </span>{
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) {
            <span class="hljs-keyword">var</span> source = <span class="hljs-built_in">arguments</span>[i];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> source) {
              <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(source, key)) {
                target[key] = source[key];
              }
            }
          }
          <span class="hljs-keyword">return</span> target;
        };
      exports[<span class="hljs-string">"default"</span>] = applyMiddleware;
      <span class="hljs-keyword">var</span> _compose       = __webpack_require__(<span class="hljs-number">1</span>);
      <span class="hljs-keyword">var</span> _compose2      = _interopRequireDefault(_compose);

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_interopRequireDefault</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> obj &amp;&amp; obj.__esModule ? obj : {<span class="hljs-string">"default"</span>: obj};
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyMiddleware</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _len = <span class="hljs-built_in">arguments</span>.length, middlewares = <span class="hljs-built_in">Array</span>(_len), _key = <span class="hljs-number">0</span>; _key &lt; _len; _key++) {
          middlewares[_key] = <span class="hljs-built_in">arguments</span>[_key];
        }
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createStore</span>) </span>{
          <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">reducer, initialState, enhancer</span>) </span>{
            <span class="hljs-keyword">var</span> store         = createStore(reducer, initialState, enhancer);
            <span class="hljs-keyword">var</span> _dispatch     = store.dispatch;
            <span class="hljs-keyword">var</span> chain         = [];
            <span class="hljs-keyword">var</span> middlewareAPI = {
              getState: store.getState,
              dispatch: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dispatch</span>(<span class="hljs-params">action</span>) </span>{
                <span class="hljs-keyword">return</span> _dispatch(action);
              }
            };
            chain             = middlewares.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">middleware</span>) </span>{
              <span class="hljs-keyword">return</span> middleware(middlewareAPI);
            });
            _dispatch         = _compose2[<span class="hljs-string">"default"</span>].apply(<span class="hljs-literal">undefined</span>, chain)(store.dispatch);

            <span class="hljs-keyword">return</span> _extends({}, store, {
              dispatch: _dispatch
            });
          };
        };
      }
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports</span>) </span>{
<span class="hljs-meta">      'use strict'</span>;
      exports.__esModule = <span class="hljs-literal">true</span>;
      exports[<span class="hljs-string">"default"</span>] = bindActionCreators;
      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bindActionCreator</span>(<span class="hljs-params">actionCreator, dispatch</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">return</span> dispatch(actionCreator.apply(<span class="hljs-literal">undefined</span>, <span class="hljs-built_in">arguments</span>));
        };
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bindActionCreators</span>(<span class="hljs-params">actionCreators, dispatch</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> actionCreators === <span class="hljs-string">'function'</span>) {
          <span class="hljs-keyword">return</span> bindActionCreator(actionCreators, dispatch);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> actionCreators !== <span class="hljs-string">'object'</span> || actionCreators === <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'bindActionCreators expected an object or a function, instead received '</span> + (actionCreators === <span class="hljs-literal">null</span> ? <span class="hljs-string">'null'</span> : <span class="hljs-keyword">typeof</span> actionCreators) + <span class="hljs-string">'. '</span> + <span class="hljs-string">'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?'</span>);
        }
        <span class="hljs-keyword">var</span> keys                = <span class="hljs-built_in">Object</span>.keys(actionCreators);
        <span class="hljs-keyword">var</span> boundActionCreators = {};
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; keys.length; i++) {
          <span class="hljs-keyword">var</span> key           = keys[i];
          <span class="hljs-keyword">var</span> actionCreator = actionCreators[key];
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> actionCreator === <span class="hljs-string">'function'</span>) {
            boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);
          }
        }
        <span class="hljs-keyword">return</span> boundActionCreators;
      }
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports, __webpack_require__</span>) </span>{
<span class="hljs-meta">      'use strict'</span>;
      exports.__esModule  = <span class="hljs-literal">true</span>;
      exports[<span class="hljs-string">"default"</span>]  = combineReducers;
      <span class="hljs-keyword">var</span> _createStore    = __webpack_require__(<span class="hljs-number">2</span>);
      <span class="hljs-keyword">var</span> _isPlainObject  = __webpack_require__(<span class="hljs-number">4</span>);
      <span class="hljs-keyword">var</span> _isPlainObject2 = _interopRequireDefault(_isPlainObject);
      <span class="hljs-keyword">var</span> _warning        = __webpack_require__(<span class="hljs-number">3</span>);
      <span class="hljs-keyword">var</span> _warning2       = _interopRequireDefault(_warning);

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_interopRequireDefault</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> obj &amp;&amp; obj.__esModule ? obj : {<span class="hljs-string">"default"</span>: obj};
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUndefinedStateErrorMessage</span>(<span class="hljs-params">key, action</span>) </span>{
        <span class="hljs-keyword">var</span> actionType = action &amp;&amp; action.type;
        <span class="hljs-keyword">var</span> actionName = actionType &amp;&amp; <span class="hljs-string">'"'</span> + actionType.toString() + <span class="hljs-string">'"'</span> || <span class="hljs-string">'an action'</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-string">'Given action '</span> + actionName + <span class="hljs-string">', reducer "'</span> + key + <span class="hljs-string">'" returned undefined. '</span> + <span class="hljs-string">'To ignore an action, you must explicitly return the previous state.'</span>;
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUnexpectedStateShapeWarningMessage</span>(<span class="hljs-params">inputState, reducers, action</span>) </span>{
        <span class="hljs-keyword">var</span> reducerKeys  = <span class="hljs-built_in">Object</span>.keys(reducers);
        <span class="hljs-keyword">var</span> argumentName = action &amp;&amp; action.type === _createStore.ActionTypes.INIT ? <span class="hljs-string">'initialState argument passed to createStore'</span> : <span class="hljs-string">'previous state received by the reducer'</span>;
        <span class="hljs-keyword">if</span> (reducerKeys.length === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-string">'Store does not have a valid reducer. Make sure the argument passed '</span> + <span class="hljs-string">'to combineReducers is an object whose values are reducers.'</span>;
        }
        <span class="hljs-keyword">if</span> (!(<span class="hljs-number">0</span>, _isPlainObject2[<span class="hljs-string">"default"</span>])(inputState)) {
          <span class="hljs-keyword">return</span> <span class="hljs-string">'The '</span> + argumentName + <span class="hljs-string">' has unexpected type of "'</span> + {}.toString.call(inputState).match(<span class="hljs-regexp">/\s([a-z|A-Z]+)/</span>)[<span class="hljs-number">1</span>] + <span class="hljs-string">'". Expected argument to be an object with the following '</span> + (<span class="hljs-string">'keys: "'</span> + reducerKeys.join(<span class="hljs-string">'", "'</span>) + <span class="hljs-string">'"'</span>);
        }
        <span class="hljs-keyword">var</span> unexpectedKeys = <span class="hljs-built_in">Object</span>.keys(inputState).filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
          <span class="hljs-keyword">return</span> !reducers.hasOwnProperty(key);
        });
        <span class="hljs-keyword">if</span> (unexpectedKeys.length &gt; <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-string">'Unexpected '</span> + (unexpectedKeys.length &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">'keys'</span> : <span class="hljs-string">'key'</span>) + <span class="hljs-string">' '</span> + (<span class="hljs-string">'"'</span> + unexpectedKeys.join(<span class="hljs-string">'", "'</span>) + <span class="hljs-string">'" found in '</span> + argumentName + <span class="hljs-string">'. '</span>) + <span class="hljs-string">'Expected to find one of the known reducer keys instead: '</span> + (<span class="hljs-string">'"'</span> + reducerKeys.join(<span class="hljs-string">'", "'</span>) + <span class="hljs-string">'". Unexpected keys will be ignored.'</span>);
        }
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assertReducerSanity</span>(<span class="hljs-params">reducers</span>) </span>{
        <span class="hljs-built_in">Object</span>.keys(reducers).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
          <span class="hljs-keyword">var</span> reducer      = reducers[key];
          <span class="hljs-keyword">var</span> initialState = reducer(<span class="hljs-literal">undefined</span>, {type: _createStore.ActionTypes.INIT});
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> initialState === <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Reducer "'</span> + key + <span class="hljs-string">'" returned undefined during initialization. '</span> + <span class="hljs-string">'If the state passed to the reducer is undefined, you must '</span> + <span class="hljs-string">'explicitly return the initial state. The initial state may '</span> + <span class="hljs-string">'not be undefined.'</span>);
          }
          <span class="hljs-keyword">var</span> type = <span class="hljs-string">'@@redux/PROBE_UNKNOWN_ACTION_'</span> + <span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substring(<span class="hljs-number">7</span>).split(<span class="hljs-string">''</span>).join(<span class="hljs-string">'.'</span>);
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> reducer(<span class="hljs-literal">undefined</span>, {type: type}) === <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Reducer "'</span> + key + <span class="hljs-string">'" returned undefined when probed with a random type. '</span> + (<span class="hljs-string">'Don\'t try to handle '</span> + _createStore.ActionTypes.INIT + <span class="hljs-string">' or other actions in "redux/*" '</span>) + <span class="hljs-string">'namespace. They are considered private. Instead, you must return the '</span> + <span class="hljs-string">'current state for any unknown actions, unless it is undefined, '</span> + <span class="hljs-string">'in which case you must return the initial state, regardless of the '</span> + <span class="hljs-string">'action type. The initial state may not be undefined.'</span>);
          }
        });
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">combineReducers</span>(<span class="hljs-params">reducers</span>) </span>{
        <span class="hljs-keyword">var</span> reducerKeys   = <span class="hljs-built_in">Object</span>.keys(reducers);
        <span class="hljs-keyword">var</span> finalReducers = {};
</code></pre>
<p>提出不合法的reducers, finalReducers就是一个闭包变量</p>
<pre><code class="lang-js">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; reducerKeys.length; i++) {
          <span class="hljs-keyword">var</span> key = reducerKeys[i];
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> reducers[key] === <span class="hljs-string">'function'</span>) {
            finalReducers[key] = reducers[key];
          }
        }
        <span class="hljs-keyword">var</span> finalReducerKeys = <span class="hljs-built_in">Object</span>.keys(finalReducers);
        <span class="hljs-keyword">var</span> sanityError;
        <span class="hljs-keyword">try</span> {
          assertReducerSanity(finalReducers);
        } <span class="hljs-keyword">catch</span> (e) {
          sanityError = e;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">combination</span>(<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">var</span> state  = <span class="hljs-built_in">arguments</span>.length &lt;= <span class="hljs-number">0</span> || <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] === <span class="hljs-literal">undefined</span> ? {} : <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];
          <span class="hljs-keyword">var</span> action = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>];
          <span class="hljs-keyword">if</span> (sanityError) {
            <span class="hljs-keyword">throw</span> sanityError;
          }
          <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">var</span> warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action);
            <span class="hljs-keyword">if</span> (warningMessage) {
              (<span class="hljs-number">0</span>, _warning2[<span class="hljs-string">"default"</span>])(warningMessage);
            }
          }
          <span class="hljs-keyword">var</span> hasChanged = <span class="hljs-literal">false</span>;
          <span class="hljs-keyword">var</span> nextState  = {};
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; finalReducerKeys.length; i++) {
            <span class="hljs-keyword">var</span> key                 = finalReducerKeys[i];
            <span class="hljs-keyword">var</span> reducer             = finalReducers[key];
            <span class="hljs-keyword">var</span> previousStateForKey = state[key];
            <span class="hljs-keyword">var</span> nextStateForKey     = reducer(previousStateForKey, action);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> nextStateForKey === <span class="hljs-string">'undefined'</span>) {
              <span class="hljs-keyword">var</span> errorMessage = getUndefinedStateErrorMessage(key, action);
              <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(errorMessage);
            }
            nextState[key] = nextStateForKey;
            hasChanged     = hasChanged || nextStateForKey !== previousStateForKey;
          }
          <span class="hljs-keyword">return</span> hasChanged ? nextState : state;
        };
</code></pre>
<p><code>combination</code>函数，一个总reducer，内部包含子reducer</p>
<pre><code class="lang-js">      }
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports</span>) </span>{
      <span class="hljs-keyword">var</span> nativeGetPrototype = <span class="hljs-built_in">Object</span>.getPrototypeOf;

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPrototype</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">return</span> nativeGetPrototype(<span class="hljs-built_in">Object</span>(value));
      }

      <span class="hljs-built_in">module</span>.exports = getPrototype;
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports</span>) </span>{
      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isHostObject</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">var</span> result = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">typeof</span> value.toString != <span class="hljs-string">'function'</span>) {
          <span class="hljs-keyword">try</span> {
            result = !!(value + <span class="hljs-string">''</span>);
          } <span class="hljs-keyword">catch</span> (e) {
          }
        }
        <span class="hljs-keyword">return</span> result;
      }

      <span class="hljs-built_in">module</span>.exports = isHostObject;
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports</span>) </span>{
      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isObjectLike</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">return</span> !!value &amp;&amp; <span class="hljs-keyword">typeof</span> value == <span class="hljs-string">'object'</span>;
      }

      <span class="hljs-built_in">module</span>.exports = isObjectLike;
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports, __webpack_require__</span>) </span>{
      (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">global</span>) </span>{
<span class="hljs-meta">        'use strict'</span>;
        <span class="hljs-built_in">module</span>.exports = __webpack_require__(<span class="hljs-number">12</span>)(global || <span class="hljs-built_in">window</span> || <span class="hljs-keyword">this</span>);
      }.call(exports, (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
      }())))
    },
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">module, exports</span>) </span>{
<span class="hljs-meta">      'use strict'</span>;
      <span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">symbolObservablePonyfill</span>(<span class="hljs-params">root</span>) </span>{
        <span class="hljs-keyword">var</span> result;
        <span class="hljs-keyword">var</span> <span class="hljs-built_in">Symbol</span> = root.Symbol;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span> === <span class="hljs-string">'function'</span>) {
          <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Symbol</span>.observable) {
            result = <span class="hljs-built_in">Symbol</span>.observable;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span>[<span class="hljs-string">'for'</span>] === <span class="hljs-string">'function'</span>) {
              result = <span class="hljs-built_in">Symbol</span>[<span class="hljs-string">'for'</span>](<span class="hljs-string">'observable'</span>);
            } <span class="hljs-keyword">else</span> {
              result = <span class="hljs-built_in">Symbol</span>(<span class="hljs-string">'observable'</span>);
            }
            <span class="hljs-built_in">Symbol</span>.observable = result;
          }
        } <span class="hljs-keyword">else</span> {
          result = <span class="hljs-string">'@@observable'</span>;
        }
        <span class="hljs-keyword">return</span> result;
      };
    }
  ])
});
;
</code></pre>

</div>

<div id="container-show" class="page__longan-container container-show">
  <div id="background"></div>
  <ul id="ul-show" class="sections"></ul>
</div>
<script type="text/javascript">
  console.time('test documentFragment')
  var presign = false;
  var itmp = 0;
  var oFragmeng = document.createDocumentFragment();
  var container_children = document.getElementById('container-hiddle').childNodes;

  for (var i = 0, length = container_children.length; i < length; i += 1) {
    var childClone = container_children[i].cloneNode(true);
    if (container_children[i].nodeName === 'H1' && container_children[i].nodeName !== '#text') {
      itmp = itmp + 1
      var li = document.createElement("li");
      li.setAttribute('id', 'section-' + itmp);
      var annotation = document.createElement("div");
      annotation.setAttribute('class', 'annotation');
      annotation.appendChild(childClone);
      li.appendChild(annotation);
      oFragmeng.appendChild(li);
    } else if (container_children[i].nodeName !== '#text') {
      itmp = itmp + 1
      var li = document.createElement("li");
      var annotation = document.createElement("div");
      var pilwrap = document.createElement("div");
      var pilcrow = document.createElement("a");

      li.setAttribute('id', 'section-' + itmp);
      annotation.setAttribute('class', 'annotation');
      pilwrap.setAttribute('class', 'pilwrap');
      pilcrow.setAttribute('class', 'pilcrow');

      pilcrow.href = '#section-' + itmp;
      pilcrow.text = '¶'

      pilwrap.appendChild(pilcrow);
      annotation.appendChild(pilwrap);

      if (container_children[i].nodeName === 'PRE') {
        var content = document.createElement("div");
        var highlight = document.createElement("div");

        content.setAttribute('class', 'content');
        highlight.setAttribute('class', 'highlight');

        content.appendChild(highlight);
        highlight.appendChild(childClone);
        li.appendChild(annotation);
        li.appendChild(content);
        oFragmeng.appendChild(li);
        presign = true;
      } else {
        if (presign) {
          itmp = itmp - 1;
          oFragmeng.children['section-' + itmp].firstElementChild.appendChild(childClone);
          presign = false;
        } else {
          annotation.appendChild(childClone);
          li.appendChild(annotation);
          oFragmeng.appendChild(li);
        }
      }
    }
  }
  document.getElementById('ul-show').appendChild(oFragmeng);
  oFragmeng = null;
  console.timeEnd('test documentFragment')
</script>
<style type="text/css">
  .page__footer-toTop {
    display: inline-block;
    position: fixed;
    padding: 0;
    right: 10px;
    bottom: 10px;
    width: 50px;
    height: 50px;
    background: #ddd;
    color: rgba(39,174,96,.6);
    text-align: center;
    border-radius: 2px;
    z-index: 1;
  }
  .page__footer-toTop--icon {
    width: 30px;
    height: 30px;
    line-height: 30px;
    top: 10px;
    left: 10px;
    color: #fff;
    position: absolute;
    font-size: 24px;
    cursor: pointer;
    text-rendering: auto;
    display: inline-block;
    font-style: normal;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .page__footer-content {
    
  }
  .page__footer-content--flex {
    display: flex;
  }
  .page__footer-content--license {
    margin-right: 20px;
  }
  .page__footer-content--thread {
    color: #666666;
  }
  .page__footer-content--thread p {
    margin: 5px 0 0 0;
    font-size: 12px;
  }
  .page__footer-content--thread p:first-of-type {
    margin: 0;
  }
  .page__footer-section {

  }
  .page__footer-section--word {
    padding: 0;
    margin: 0.5em 0;
    font-weight: 700;
    break-inside: avoid-column;
    word-break: break-all;
    word-wrap: break-word;
  }
  .page__footer-section--word a {
    text-decoration: none;
    cursor: pointer;
    color: #ba832c;
    font-weight: 700;
  }
</style>
<hr>
<div class="page__footer-toTop"><i class="page__footer-toTop--icon iconfont">&#xe602;</i></div>
<div class="page__footer-content">
  <div class="page__footer-content--flex">
    <div class="page__footer-content--license">
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">
        <img alt="Creative Commons License" style="border-width:0" src="https://iframe.kangkk.cn/static/image/licensebuttons.png" />
      </a>
    </div>
    <div class="page__footer-content--thread">
      <p><b>ID</b>: ab6d540e-c9e3-4b64-a624-ad93949bb470</p>
      <p><b>TITLE</b>: reduxjs</p>
      <p><b>URL</b>: http://kangkk.com/cn/ab6d540e-c9e3-4b64-a624-ad93949bb470.html</p>
    </div>
  </div>
  <section class="page__footer-section">
    <p class="page__footer-section--word">This work is licensed under a <a rel="license"
        href="https://creativecommons.org/licenses/by-nc-nd/3.0/cn/" target="_blank"> Creative Commons
        Attribution-NonCommercial-NoDerivatives 4.0 International License
      </a>. Reprint the 《<sub>
        reduxjs
      </sub>》 need signature "<sub>kangkk</sub>", and the url is <sub>
        http://kangkk.com/cn/ab6d540e-c9e3-4b64-a624-ad93949bb470.html
      </sub>.
    </p>
  </section>
</div>
<style type="text/css">
  footer {
    margin-top: 10px;
    margin-bottom: 40px;
    border-top: 1px solid #e5e5e5;
    padding-top: 10px;
    width: 400px;
    font: 14px/1.5 Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-weight: 400;
  }
  footer a {
    color: #39c;
    text-decoration: none;
  }
  footer .iconfont {
    color: #39c;
    font-size: 12px;
  }
  footer img {
    width: 12px;
  }
</style>
<footer>
  <small>
    Copyright ©2006-2023 康健生活, All Rights Reserved ➤ 
    <a href="./workingspace.html">README</a>
  </small>
  <br>
  <small>Living in China. 
    <a href="http://kangkk.com/" target="_blank">KangKK.COM</a> ➤ 
    <a href="https://kangkk.cn/" target="_blank">KangKK.CN</a> ➤ 〔♩ 
    <a href="#"><i class="iconfont">&#xe60b;</i></a> ♪ 
    <a href="https://KangKK.NOTION.SITE"><i class="iconfont">&#xec37;</i></a> ♫ 
    <a href="#"><i class="iconfont">&#xf1b5;</i></a> ♬〕
  </small>
  <br>
  <small><a href="https://beian.miit.gov.cn/" target="_blank">京ICP备16020839号-1</a> ➤ <a target="_blank"
      href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=23128202000134"><img src="https://gw.alicdn.com/tfs/TB1jwakrbH1gK0jSZFwXXc7aXXa-20-20.png" alt="黑公网安备"/> 黑公网安备
      23128202000134号</a></small>
</footer>
  <script type="text/javascript">
    !function ($) {
      $(window).scroll(function () {
        $(this).scrollTop() > 100 ? $(".page__footer-toTop").fadeIn() : $(".page__footer-toTop").fadeOut()
      }), $(".page__footer-toTop").on("click", function (b) {
        return b.preventDefault(), $("html, body").animate({
          scrollTop: 0
        }, 100), !1
      });
    }(jQuery);
  </script>
  </body>

  </html>