<!-- header 模块 -->
<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta name="description" content="reduxjs">
  <meta name="keywords" content="reduxjs,reduxjs,reduxjs">
  <title>
    reduxjs
  </title>
  <link href="https://iframe.kangkk.cn/static/ico/kk_com_favicon.ico" type="image/x-icon" rel="shortcut icon">
  <!--[if lt IE 9]>
        <script crossorigin="anonymous" integrity="sha384-fkm9nLbWSgWvs5dRrT+4CAGQLxkueuCwSOSUV93eD7Pk8j+XnFK76jBBn2fexZd1" src="https://lib.baomitu.com/html5shiv/3.7/html5shiv-printshiv.min.js"></script>
    <![endif]-->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"
    integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <link crossorigin="anonymous" integrity="sha384-9Z9AuAj0Xi0z7WFOSgjjow8EnNY9wPNp925TVLlAyWhvZPsf5Ks23Ex0mxIrWJzJ"
  href="https://lib.baomitu.com/normalize/8.0.1/normalize.min.css" rel="stylesheet">
<script src="https://at.alicdn.com/t/c/font_4065255_1yvdewucu3p.js" type="text/javascript"></script>
<style type="text/css">
@font-face {
  font-family: 'iconfont';  /* Project id 2193116 */
  src: url('https://at.alicdn.com/t/c/font_2193116_x5p38zrimgm.woff2?t=1684057313326') format('woff2'),
       url('https://at.alicdn.com/t/c/font_2193116_x5p38zrimgm.woff?t=1684057313326') format('woff'),
       url('https://at.alicdn.com/t/c/font_2193116_x5p38zrimgm.ttf?t=1684057313326') format('truetype');
}
.iconfont{
  font-family: "iconfont" !important;
  font-size: 14px;
  font-style: normal;
  -webkit-font-smoothing: antialiased;
  -webkit-text-stroke-width: 0.2px;
  -moz-osx-font-smoothing: grayscale;
  color: #707070;
}
</style>
<style type="text/css">
  .icon {
    width: 1em;
    height: 1em;
    vertical-align: -0.15em;
    fill: currentColor;
    overflow: hidden;
  }
</style>
  <style type="text/css">
    .page__body {
      width: 900px;
      margin: 0 auto;
    }
  </style>
</head>

<body class="page__body">
  <style type="text/css">
  .header {
    width: 250px;
  }
  .header--title {
    font-family: Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
    display: inline-block;
    color: #11181b;
    font-size: 28px;
    transform: rotateX(180deg) rotateY(180deg);
  }
  .header--title a {
    text-decoration: none;
    color: #11181b;
  }
  .hr-link {
    background-color: #bbb;
    background-image: -webkit-linear-gradient(0deg,#fff,#bbb,#fff);
    border: 0;
    height: 1px;
    margin: 0 0 20px;
  }
  .header--title_sup {
    vertical-align: super;
  }
  .header--title_sub {
    font-size: 30px;
    vertical-align: bottom;
  }
</style>
<header class="header">
  <h1><sub><svg class="icon header--title_sub" aria-hidden="true"><use xlink:href="#kk-hudielan"></use></svg></sub><span class="header--title"><a href="https://kangkk.com/">KangKK</a></span><sup class="iconfont header--title_sup">&#xe606;</sup></h1>
  <hr class="hr-link">
</header>

  <style type="text/css">
    .page__header-title {
      font-size: 12px;
    }
    .page__header-title span {
      margin-left: 50px;
    }
  </style>
  <p class="page__header-title"><span>多读书，多运动，多到远处走走，再看看不一样的世界。</span></p>
  <hr>
<style type="text/css">
  body {
    width: 100% !important;
  }

  body>header,
  body>footer,
  body>hr,
  .page__header-title,
  .page__footer-content {
    width: 900px !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  .page__longan-container {
    position: relative;
    margin: 2em auto;
    padding: 1em 0;
    box-sizing: border-box;
    direction: ltr;
    line-height: 1.8;
    font-size: 14px;
    color: #30404f;
  }

  .page__longan-container h1 {
    color: #123;
    font-weight: bold;
    text-transform: uppercase;
    margin: 30px 0 15px;
    text-align: center;
    font-size: 24px;
    overflow: visible;
    padding: 0;
    direction: ltr;
    word-wrap: break-word;
  }

  #container {
    min-height: 100%;
  }

  #container-show {
    position: relative;
  }

  .annotation ol,
  .annotation ul {
    margin: 25px 0;
  }

  .annotation ol li,
  .annotation ul li {
    font-size: 14px;
    line-height: 18px;
    margin: 5px 0;
  }

  .annotation pre {
    display: block;
    margin: 0;
    padding: 7px 10px;
    background: #fcfcfc;
    -moz-box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    -webkit-box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    overflow-x: auto;
  }

  .annotation pre code {
    border: 0;
    padding: 0;
    background: transparent;
  }
  .annotation code, ul.sections>li>div.annotation p tt {
    background: #f8f8ff;
    border: 1px solid #dedede;
    font-size: 12px;
    padding: 0 0.2em;
  }
  blockquote {
    border-left: 2px solid #ccc;
    margin: 0;
    padding: 1px 0 1px 1em;
  }

  .sections blockquote p {
    font-family: Menlo, Consolas, Monaco, monospace;
    color: #999;
    margin: 10px 0 0;
    white-space: pre-wrap;
  }

  ul.sections {
    list-style: none;
    padding: 0 0 5px;
    margin: 0;
  }

  /*---------------------- Syntax Highlighting -----------------------------*/
  td.linenos {
    background-color: #f0f0f0;
    padding-right: 10px;
  }

  span.lineno {
    background-color: #f0f0f0;
    padding: 0 5px;
  }

  #container {
    position: relative;
  }

  code,
  pre,
  tt {
    line-height: 18px;
  }

  ol,
  p,
  ul {
    margin: 0 0 15px;
  }

  #jump_to {
    padding: 5px 10px;
  }

  #jump_wrapper {
    padding: 0;
  }

  #jump_page,
  #jump_to {
    font: 10px Arial;
    text-transform: uppercase;
  }

  #jump_page .source {
    padding: 5px 10px;
  }

  #jump_to a.large {
    display: inline-block;
  }

  #jump_to a.small {
    display: none;
  }

  #background {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 525px;
    background: #f5f5f5;
    /* border-right: 1px solid #e5e5ee; */
    z-index: -1;
    border-radius: 10px;
  }

  #ul-show {
    background: transparent;
  }

  ul.sections>li>div.annotation ol,
  ul.sections>li>div.annotation ul {
    padding-left: 40px;
  }

  ul.sections>li {
    white-space: nowrap;
  }

  ul.sections>li>div {
    display: inline-block;
  }
  ul.sections>li>div {
    box-sizing: border-box;
  }
  ul.sections>li>div.annotation {
    max-width: 525px;
    min-width: 525px;
    padding: 10px 25px 1px 50px;
    min-height: 5px;
    overflow-x: hidden;
    white-space: normal;
    vertical-align: top;
    text-align: left;
  }

  ul.sections>li>div.annotation pre {
    margin: 15px 0;
    padding-left: 15px;
  }

  ul.sections>li>div.content {
    max-width: 700px;
    vertical-align: top;
    border: none;
    box-shadow: none;
    padding: 0 15px 14px 25px;
  }

  ul.sections>li>div.content .highlight pre code {
    background: 0 0;
    padding-top: 0;
  }

  .pilwrap {
    position: relative;
    display: inline;
  }

  .pilcrow {
    font: 14px Arial;
    text-decoration: none;
    color: #454545;
    position: absolute;
    top: 3px;
    left: -20px;
    padding: 1px 2px;
    opacity: 0;
    -webkit-transition: opacity 0.2s linear;
  }

  .for-h1 .pilcrow {
    top: 47px;
  }

  .for-h2 .pilcrow,
  .for-h3 .pilcrow,
  .for-h4 .pilcrow {
    top: 35px;
  }

  ul.sections>li>div.annotation:hover .pilcrow {
    opacity: 1;
  }

  /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/
  pre code {
    display: block;
    padding: 0.5em;
    color: #000;
    background: #f8f8ff;
  }

  pre .hljs-comment,
  pre .hljs-diff .hljs-header,
  pre .hljs-javadoc,
  pre .hljs-template_comment {
    color: #408080;
    font-style: italic;
  }

  pre .hljs-assignment,
  pre .hljs-css .hljs-rule .hljs-keyword,
  pre .hljs-javascript .hljs-title,
  pre .hljs-keyword,
  pre .hljs-lisp .hljs-title,
  pre .hljs-literal,
  pre .hljs-subst,
  pre .hljs-winutils {
    color: #954121;
    /*font-weight: bold*/
  }

  pre .hljs-hexcolor,
  pre .hljs-number {
    color: #40a070;
  }

  pre .hljs-phpdoc,
  pre .hljs-string,
  pre .hljs-tag .hljs-value,
  pre .hljs-tex .hljs-formula {
    color: #219161;
  }

  pre .hljs-id,
  pre .hljs-title {
    color: #19469D;
  }

  pre .hljs-params {
    color: #00F;
  }

  pre .hljs-javascript .hljs-title,
  pre .hljs-lisp .hljs-title,
  pre .hljs-subst {
    font-weight: normal;
  }

  pre .hljs-class .hljs-title,
  pre .hljs-haskell .hljs-label,
  pre .hljs-tex .hljs-command {
    color: #458;
    font-weight: bold;
  }

  pre .hljs-django .hljs-tag .hljs-keyword,
  pre .hljs-rules .hljs-property,
  pre .hljs-tag,
  pre .hljs-tag .hljs-title {
    color: #000080;
    font-weight: normal;
  }

  pre .hljs-attribute,
  pre .hljs-instancevar,
  pre .hljs-lisp .hljs-body,
  pre .hljs-variable {
    color: #008080;
  }

  pre .hljs-regexp {
    color: #B68;
  }

  pre .hljs-class {
    color: #458;
    font-weight: bold;
  }

  pre .hljs-input_number,
  pre .hljs-lisp .hljs-keyword,
  pre .hljs-ruby .hljs-symbol .hljs-keymethods,
  pre .hljs-ruby .hljs-symbol .hljs-keyword,
  pre .hljs-ruby .hljs-symbol .hljs-string,
  pre .hljs-symbol,
  pre .hljs-tex .hljs-special {
    color: #990073;
  }

  pre .hljs-built_in,
  pre .hljs-builtin,
  pre .hljs-constructor,
  pre .hljs-lisp .hljs-title {
    color: #0086b3;
  }

  pre .hljs-cdata,
  pre .hljs-doctype,
  pre .hljs-pi,
  pre .hljs-preprocessor,
  pre .hljs-shebang {
    color: #999;
    font-weight: bold;
  }

  pre .hljs-deletion {
    background: #fdd;
  }

  pre .hljs-addition {
    background: #dfd;
  }

  pre .hljs-diff .hljs-change {
    background: #0086b3;
  }

  pre .hljs-chunk {
    color: #aaa;
  }

  pre .hljs-tex .hljs-formula {
    opacity: 0.5;
  }
</style>
<div id="container-hiddle" style="display: none;">
  <h1><span class="header-link" id="reduxjs">Reduxjs</span></h1><pre><code class="lang-js">(<span class="hljs-name">function</span> webpackUniversalModuleDefinition(<span class="hljs-name">root</span>, factory) {
  if (<span class="hljs-name">typeof</span> exports === <span class="hljs-symbol">&#x27;object</span>&#x27; &amp;&amp; typeof module === <span class="hljs-symbol">&#x27;object</span>&#x27;)
    module.exports = factory()<span class="hljs-comment">;</span>
  else if (<span class="hljs-name">typeof</span> define === <span class="hljs-symbol">&#x27;function</span>&#x27; &amp;&amp; define.amd)
    define([], factory)<span class="hljs-comment">;</span>
  else if (<span class="hljs-name">typeof</span> exports === <span class="hljs-symbol">&#x27;object</span>&#x27;)
    exports[<span class="hljs-string">&quot;Redux&quot;</span>] = factory()<span class="hljs-comment">;</span>
  else
    root[<span class="hljs-string">&quot;Redux&quot;</span>] = factory()<span class="hljs-comment">;</span>
})(<span class="hljs-name">this</span>, function () {

  return (<span class="hljs-name">function</span> (<span class="hljs-name">modules</span>) {
    var installedModules = {}<span class="hljs-comment">;</span>

    function __webpack_require__(<span class="hljs-name">moduleId</span>) {
      if (<span class="hljs-name">installedModules</span>[<span class="hljs-name">moduleId</span>])
        return installedModules[<span class="hljs-name">moduleId</span>].exports<span class="hljs-comment">;</span>
      var module = installedModules[<span class="hljs-name">moduleId</span>] = {
        exports: {},
        id     : moduleId,
        loaded : false
      }<span class="hljs-comment">;</span>
      modules[<span class="hljs-name">moduleId</span>].call(<span class="hljs-name">module.exports</span>, module, module.exports, __webpack_require__)<span class="hljs-comment">;</span>
      module.loaded = true<span class="hljs-comment">;</span>
      return module.exports<span class="hljs-comment">;</span>
    }

    __webpack_require__.m = modules<span class="hljs-comment">;</span>
    __webpack_require__.c = installedModules<span class="hljs-comment">;</span>
    __webpack_require__.p = <span class="hljs-string">&quot;&quot;</span><span class="hljs-comment">;</span>
    return __webpack_require__(<span class="hljs-name">0</span>)<span class="hljs-comment">;</span>
  })

  ([
    function (<span class="hljs-name">module</span>, exports, __webpack_require__) {
      <span class="hljs-symbol">&#x27;use</span> strict&#x27;<span class="hljs-comment">;</span>
      exports.__esModule = true<span class="hljs-comment">;</span>
      exports.compose    = exports.applyMiddleware = exports.bindActionCreators = exports.combineReducers = exports.createStore = undefined<span class="hljs-comment">;</span>
      var _createStore         = __webpack_require__(<span class="hljs-name">2</span>)<span class="hljs-comment">;</span>
      var _createStore2        = _interopRequireDefault(<span class="hljs-name">_createStore</span>)<span class="hljs-comment">;</span>
      var _combineReducers     = __webpack_require__(<span class="hljs-name">7</span>)<span class="hljs-comment">;</span>
      var _combineReducers2    = _interopRequireDefault(<span class="hljs-name">_combineReducers</span>)<span class="hljs-comment">;</span>
      var _bindActionCreators  = __webpack_require__(<span class="hljs-name">6</span>)<span class="hljs-comment">;</span>
      var _bindActionCreators2 = _interopRequireDefault(<span class="hljs-name">_bindActionCreators</span>)<span class="hljs-comment">;</span>
      var _applyMiddleware     = __webpack_require__(<span class="hljs-name">5</span>)<span class="hljs-comment">;</span>
      var _applyMiddleware2    = _interopRequireDefault(<span class="hljs-name">_applyMiddleware</span>)<span class="hljs-comment">;</span>
      var _compose             = __webpack_require__(<span class="hljs-name">1</span>)<span class="hljs-comment">;</span>
      var _compose2            = _interopRequireDefault(<span class="hljs-name">_compose</span>)<span class="hljs-comment">;</span>
      var _warning             = __webpack_require__(<span class="hljs-name">3</span>)<span class="hljs-comment">;</span>
      var _warning2            = _interopRequireDefault(<span class="hljs-name">_warning</span>)<span class="hljs-comment">;</span>

      function _interopRequireDefault(<span class="hljs-name">obj</span>) {
        return obj &amp;&amp; obj.__esModule ? obj : {<span class="hljs-string">&quot;default&quot;</span>: obj}<span class="hljs-comment">;</span>
      }

      function isCrushed() {
      }

      if ((<span class="hljs-string">&quot;development&quot;</span>) !== <span class="hljs-symbol">&#x27;production</span>&#x27; &amp;&amp; typeof isCrushed.name === <span class="hljs-symbol">&#x27;string</span>&#x27; &amp;&amp; isCrushed.name !== <span class="hljs-symbol">&#x27;isCrushed</span>&#x27;) {
        (<span class="hljs-name">0</span>, _warning2[<span class="hljs-string">&quot;default&quot;</span>])(<span class="hljs-symbol">&#x27;You</span> are currently using minified code outside of NODE_ENV === \<span class="hljs-symbol">&#x27;production</span>\<span class="hljs-symbol">&#x27;.</span> &#x27; + <span class="hljs-symbol">&#x27;This</span> means that you are running a slower development build of Redux. &#x27; + <span class="hljs-symbol">&#x27;You</span> can use loose-envify (<span class="hljs-name">https://github.com/zertosh/loose-envify</span>) for browserify &#x27; + <span class="hljs-symbol">&#x27;or</span> DefinePlugin for webpack (<span class="hljs-name">http://stackoverflow.com/questions/30030031</span>) &#x27; + <span class="hljs-symbol">&#x27;to</span> ensure you have the correct code for your production build.&#x27;)<span class="hljs-comment">;</span>
      }
      exports.createStore        = _createStore2[<span class="hljs-string">&quot;default&quot;</span>]<span class="hljs-comment">;</span>
      exports.combineReducers    = _combineReducers2[<span class="hljs-string">&quot;default&quot;</span>]<span class="hljs-comment">;</span>
      exports.bindActionCreators = _bindActionCreators2[<span class="hljs-string">&quot;default&quot;</span>]<span class="hljs-comment">;</span>
      exports.applyMiddleware    = _applyMiddleware2[<span class="hljs-string">&quot;default&quot;</span>]<span class="hljs-comment">;</span>
      exports.compose            = _compose2[<span class="hljs-string">&quot;default&quot;</span>]<span class="hljs-comment">;</span>
    },
    function (<span class="hljs-name">module</span>, exports) {
      <span class="hljs-string">&quot;use strict&quot;</span><span class="hljs-comment">;</span>
      exports.__esModule = true<span class="hljs-comment">;</span>
      exports[<span class="hljs-string">&quot;default&quot;</span>] = compose<span class="hljs-comment">;</span>
      function compose() {
        for (<span class="hljs-name">var</span> _len = arguments.length, funcs = Array(<span class="hljs-name">_len</span>), _key = <span class="hljs-number">0</span><span class="hljs-comment">; _key &lt; _len; _key++) {</span>
          funcs[<span class="hljs-name">_key</span>] = arguments[<span class="hljs-name">_key</span>]<span class="hljs-comment">;</span>
        }
        if (<span class="hljs-name">funcs.length</span> === <span class="hljs-number">0</span>) {
          return function (<span class="hljs-name">arg</span>) {
            return arg<span class="hljs-comment">;</span>
          }<span class="hljs-comment">;</span>
        } else {
          var _ret = function () {
            var last = funcs[<span class="hljs-name">funcs.length</span> - <span class="hljs-number">1</span>]<span class="hljs-comment">;</span>
            var rest = funcs.slice(<span class="hljs-name">0</span>, <span class="hljs-number">-1</span>)<span class="hljs-comment">;</span>
            return {
              v: function v() {
                return rest.reduceRight(<span class="hljs-name">function</span> (<span class="hljs-name">composed</span>, f) {
                  return f(<span class="hljs-name">composed</span>)<span class="hljs-comment">;</span>
                }, last.apply(<span class="hljs-name">undefined</span>, arguments))<span class="hljs-comment">;</span>
              }
            }<span class="hljs-comment">;</span>
          }()<span class="hljs-comment">;</span>
          if (<span class="hljs-name">typeof</span> _ret === <span class="hljs-string">&quot;object&quot;</span>) return _ret.v<span class="hljs-comment">;</span>
        }
      }
    },
    function (<span class="hljs-name">module</span>, exports, __webpack_require__) {
      <span class="hljs-symbol">&#x27;use</span> strict&#x27;<span class="hljs-comment">;</span>
      exports.__esModule     = true<span class="hljs-comment">;</span>
      exports.ActionTypes    = undefined<span class="hljs-comment">;</span>
      exports[<span class="hljs-string">&quot;default&quot;</span>]     = createStore<span class="hljs-comment">;</span>
      var _isPlainObject     = __webpack_require__(<span class="hljs-name">4</span>)<span class="hljs-comment">;</span>
      var _isPlainObject2    = _interopRequireDefault(<span class="hljs-name">_isPlainObject</span>)<span class="hljs-comment">;</span>
      var _symbolObservable  = __webpack_require__(<span class="hljs-name">11</span>)<span class="hljs-comment">;</span>
      var _symbolObservable2 = _interopRequireDefault(<span class="hljs-name">_symbolObservable</span>)<span class="hljs-comment">;</span>

      function _interopRequireDefault(<span class="hljs-name">obj</span>) {
        return obj &amp;&amp; obj.__esModule ? obj : {<span class="hljs-string">&quot;default&quot;</span>: obj}<span class="hljs-comment">;</span>
      }

      var ActionTypes = exports.ActionTypes = {
        INIT: <span class="hljs-symbol">&#x27;@@redux/INIT</span>&#x27;
      }<span class="hljs-comment">;</span>

      function createStore(<span class="hljs-name">reducer</span>, initialState, enhancer) {
        var _ref2<span class="hljs-comment">;</span>
        if (<span class="hljs-name">typeof</span> initialState === <span class="hljs-symbol">&#x27;function</span>&#x27; &amp;&amp; typeof enhancer === <span class="hljs-symbol">&#x27;undefined</span>&#x27;) {
          enhancer     = initialState<span class="hljs-comment">;</span>
          initialState = undefined<span class="hljs-comment">;</span>
        }
        if (<span class="hljs-name">typeof</span> enhancer !== <span class="hljs-symbol">&#x27;undefined</span>&#x27;) {
          if (<span class="hljs-name">typeof</span> enhancer !== <span class="hljs-symbol">&#x27;function</span>&#x27;) {
            throw new Error(<span class="hljs-symbol">&#x27;Expected</span> the enhancer to be a function.&#x27;)<span class="hljs-comment">;</span>
          }
          return enhancer(<span class="hljs-name">createStore</span>)(<span class="hljs-name">reducer</span>, initialState)<span class="hljs-comment">;</span>
        }
        if (<span class="hljs-name">typeof</span> reducer !== <span class="hljs-symbol">&#x27;function</span>&#x27;) {
          throw new Error(<span class="hljs-symbol">&#x27;Expected</span> the reducer to be a function.&#x27;)<span class="hljs-comment">;</span>
        }
</code></pre>
<pre><code class="lang-js">        var currentReducer   <span class="hljs-operator">=</span> reducer<span class="hljs-comment">;</span>
        var currentState     <span class="hljs-operator">=</span> initialState<span class="hljs-comment">;</span>
        var currentListeners <span class="hljs-operator">=</span> []<span class="hljs-comment">;</span>
        var nextListeners    <span class="hljs-operator">=</span> currentListeners<span class="hljs-comment">;</span>
        var isDispatching    <span class="hljs-operator">=</span> false<span class="hljs-comment">;</span>
</code></pre>
<p>这些都是闭包变量</p>
<pre><code class="lang-js">        <span class="hljs-keyword">function</span> <span class="hljs-title">ensureCanMutateNextListeners</span>() {
          if (nextListeners === currentListeners) {
            nextListeners = currentListeners.slice();
          }
        }

        <span class="hljs-keyword">function</span> <span class="hljs-title">getState</span>() {
          <span class="hljs-keyword">return</span> <span class="hljs-type">currentState</span>;
        }
</code></pre>
<p>返回当前的state</p>
<pre><code class="lang-js">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">listener</span>) {
          <span class="hljs-keyword">if</span> (<span class="hljs-built_in">typeof</span> listener !== <span class="hljs-string">&#x27;function&#x27;</span>) {
            throw <span class="hljs-keyword">new</span> Error(<span class="hljs-string">&#x27;Expected listener to be a function.&#x27;</span>);
          }
          <span class="hljs-keyword">var</span> isSubscribed = <span class="hljs-literal">true</span>;
          ensureCanMutateNextListeners();
          nextListeners.<span class="hljs-built_in">push</span>(listener);
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">unsubscribe</span>(<span class="hljs-params"></span>) {
            <span class="hljs-keyword">if</span> (!isSubscribed) {
              <span class="hljs-keyword">return</span>;
            }
            isSubscribed = <span class="hljs-literal">false</span>;
            ensureCanMutateNextListeners();
            <span class="hljs-keyword">var</span> index = nextListeners.<span class="hljs-built_in">indexOf</span>(listener);
            nextListeners.<span class="hljs-built_in">splice</span>(index, <span class="hljs-number">1</span>);
          };
        }      
</code></pre>
<p>注册listener，同时返回一个取消事件注册的方法</p>
<pre><code class="lang-js">        <span class="hljs-keyword">function</span> dispatch(action) {
          <span class="hljs-keyword">if</span> (!(<span class="hljs-number">0</span>, _isPlainObject2<span class="hljs-literal">[&quot;<span class="hljs-identifier">default</span>&quot;]</span>)(action)) {
            throw <span class="hljs-keyword">new</span> <span class="hljs-constructor">Error(&#x27;Actions <span class="hljs-params">must</span> <span class="hljs-params">be</span> <span class="hljs-params">plain</span> <span class="hljs-params">objects</span>. &#x27; + &#x27;Use <span class="hljs-params">custom</span> <span class="hljs-params">middleware</span> <span class="hljs-params">for</span> <span class="hljs-params">async</span> <span class="hljs-params">actions</span>.&#x27;)</span>;
          }
          <span class="hljs-keyword">if</span> (typeof action.<span class="hljs-keyword">type</span><span class="hljs-operator"> === </span>&#x27;undefined&#x27;) {
            throw <span class="hljs-keyword">new</span> <span class="hljs-constructor">Error(&#x27;Actions <span class="hljs-params">may</span> <span class="hljs-params">not</span> <span class="hljs-params">have</span> <span class="hljs-params">an</span> <span class="hljs-params">undefined</span> <span class="hljs-string">&quot;type&quot;</span> <span class="hljs-params">property</span>. &#x27; + &#x27;Have <span class="hljs-params">you</span> <span class="hljs-params">misspelled</span> <span class="hljs-params">a</span> <span class="hljs-params">constant</span>?&#x27;)</span>;
          }
          <span class="hljs-keyword">if</span> (isDispatching) {
            throw <span class="hljs-keyword">new</span> <span class="hljs-constructor">Error(&#x27;Reducers <span class="hljs-params">may</span> <span class="hljs-params">not</span> <span class="hljs-params">dispatch</span> <span class="hljs-params">actions</span>.&#x27;)</span>;
          }
          <span class="hljs-keyword">try</span> {
            isDispatching = <span class="hljs-literal">true</span>;
            currentState  = current<span class="hljs-constructor">Reducer(<span class="hljs-params">currentState</span>, <span class="hljs-params">action</span>)</span>;
          } finally {
            isDispatching = <span class="hljs-literal">false</span>;
          }
          var listeners = currentListeners = nextListeners;
          <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; listeners.length; i++) {
            listeners<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span><span class="hljs-literal">()</span>;
          }
          return action;
        }
</code></pre>
<p>通过action该改变state，然后执行subscribe注册的方法</p>
<pre><code class="lang-js">        <span class="hljs-keyword">function</span> replace<span class="hljs-constructor">Reducer(<span class="hljs-params">nextReducer</span>)</span> {
          <span class="hljs-keyword">if</span> (typeof nextReducer !== &#x27;<span class="hljs-keyword">function</span>&#x27;) {
            throw <span class="hljs-keyword">new</span> <span class="hljs-constructor">Error(&#x27;Expected <span class="hljs-params">the</span> <span class="hljs-params">nextReducer</span> <span class="hljs-params">to</span> <span class="hljs-params">be</span> <span class="hljs-params">a</span> <span class="hljs-params">function</span>.&#x27;)</span>;
          }
          currentReducer = nextReducer;
          dispatch({<span class="hljs-keyword">type</span>: ActionTypes.INIT});
        }
</code></pre>
<p>替换reducer，修改state变化的逻辑</p>
<pre><code class="lang-js">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">observable</span>(<span class="hljs-params"></span>) {
          <span class="hljs-keyword">var</span> _ref;
          <span class="hljs-keyword">var</span> outerSubscribe = subscribe;
          <span class="hljs-keyword">return</span> _ref = {
            <span class="hljs-attr">subscribe</span>: <span class="hljs-keyword">function</span> <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">observer</span>) {
              <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> observer !== <span class="hljs-string">&#x27;object&#x27;</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&#x27;Expected the observer to be an object.&#x27;</span>);
              }

              <span class="hljs-keyword">function</span> <span class="hljs-title function_">observeState</span>(<span class="hljs-params"></span>) {
                <span class="hljs-keyword">if</span> (observer.<span class="hljs-property">next</span>) {
                  observer.<span class="hljs-title function_">next</span>(<span class="hljs-title function_">getState</span>());
                }
              }

              <span class="hljs-title function_">observeState</span>();
              <span class="hljs-keyword">var</span> unsubscribe = <span class="hljs-title function_">outerSubscribe</span>(observeState);
              <span class="hljs-keyword">return</span> {<span class="hljs-attr">unsubscribe</span>: unsubscribe};
            }
          }, _ref[_symbolObservable2[<span class="hljs-string">&quot;default&quot;</span>]] = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
          }, _ref;
        }

        <span class="hljs-title function_">dispatch</span>({<span class="hljs-attr">type</span>: <span class="hljs-title class_">ActionTypes</span>.<span class="hljs-property">INIT</span>});
</code></pre>
<p>初始化时，执行内部一个dispatch，得到初始state</p>
<pre><code class="lang-js">        <span class="hljs-keyword">return</span> _ref2 = {
          dispatch      : dispatch,
          subscribe     : subscribe,
          getState      : getState,
          <span class="hljs-attr">replaceReducer</span>: replaceReducer
        }, _ref2[_symbolObservable2[<span class="hljs-string">&quot;default&quot;</span>]] = observable, _ref2;
      }
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span></span>) {
      <span class="hljs-string">&#x27;use strict&#x27;</span>;
      <span class="hljs-built_in">exports</span>.<span class="hljs-property">__esModule</span> = <span class="hljs-literal">true</span>;
      <span class="hljs-built_in">exports</span>[<span class="hljs-string">&quot;default&quot;</span>] = warning;
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">warning</span>(<span class="hljs-params">message</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">console</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span> === <span class="hljs-string">&#x27;function&#x27;</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(message);
        }
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);
        } <span class="hljs-keyword">catch</span> (e) {
        }
      }
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span>, __webpack_require__</span>) {
      <span class="hljs-keyword">var</span> getPrototype     = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">8</span>),
          isHostObject     = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">9</span>),
          isObjectLike     = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">10</span>);
      <span class="hljs-keyword">var</span> objectTag        = <span class="hljs-string">&#x27;[object Object]&#x27;</span>;
      <span class="hljs-keyword">var</span> objectProto      = <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
      <span class="hljs-keyword">var</span> funcToString     = <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>;
      <span class="hljs-keyword">var</span> hasOwnProperty   = objectProto.<span class="hljs-property">hasOwnProperty</span>;
      <span class="hljs-keyword">var</span> objectCtorString = funcToString.<span class="hljs-title function_">call</span>(<span class="hljs-title class_">Object</span>);
      <span class="hljs-keyword">var</span> objectToString   = objectProto.<span class="hljs-property">toString</span>;

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">isPlainObject</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObjectLike</span>(value) ||
          objectToString.<span class="hljs-title function_">call</span>(value) != objectTag || <span class="hljs-title function_">isHostObject</span>(value)) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">var</span> proto = <span class="hljs-title function_">getPrototype</span>(value);
        <span class="hljs-keyword">if</span> (proto === <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">var</span> <span class="hljs-title class_">Ctor</span> = hasOwnProperty.<span class="hljs-title function_">call</span>(proto, <span class="hljs-string">&#x27;constructor&#x27;</span>) &amp;&amp; proto.<span class="hljs-property">constructor</span>;
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Ctor</span> == <span class="hljs-string">&#x27;function&#x27;</span> &amp;&amp;
        <span class="hljs-title class_">Ctor</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Ctor</span> &amp;&amp; funcToString.<span class="hljs-title function_">call</span>(<span class="hljs-title class_">Ctor</span>) == objectCtorString);
      }

      <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = isPlainObject;
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span>, __webpack_require__</span>) {
      <span class="hljs-string">&#x27;use strict&#x27;</span>;
      <span class="hljs-built_in">exports</span>.<span class="hljs-property">__esModule</span> = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">var</span> _extends       = <span class="hljs-title class_">Object</span>.<span class="hljs-property">assign</span> || <span class="hljs-keyword">function</span> (<span class="hljs-params">target</span>) {
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) {
            <span class="hljs-keyword">var</span> source = <span class="hljs-variable language_">arguments</span>[i];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> source) {
              <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hasOwnProperty</span>.<span class="hljs-title function_">call</span>(source, key)) {
                target[key] = source[key];
              }
            }
          }
          <span class="hljs-keyword">return</span> target;
        };
      <span class="hljs-built_in">exports</span>[<span class="hljs-string">&quot;default&quot;</span>] = applyMiddleware;
      <span class="hljs-keyword">var</span> _compose       = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">1</span>);
      <span class="hljs-keyword">var</span> _compose2      = <span class="hljs-title function_">_interopRequireDefault</span>(_compose);

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">_interopRequireDefault</span>(<span class="hljs-params">obj</span>) {
        <span class="hljs-keyword">return</span> obj &amp;&amp; obj.<span class="hljs-property">__esModule</span> ? obj : {<span class="hljs-string">&quot;default&quot;</span>: obj};
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">applyMiddleware</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _len = <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>, middlewares = <span class="hljs-title class_">Array</span>(_len), _key = <span class="hljs-number">0</span>; _key &lt; _len; _key++) {
          middlewares[_key] = <span class="hljs-variable language_">arguments</span>[_key];
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">createStore</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">reducer, initialState, enhancer</span>) {
            <span class="hljs-keyword">var</span> store         = <span class="hljs-title function_">createStore</span>(reducer, initialState, enhancer);
            <span class="hljs-keyword">var</span> _dispatch     = store.<span class="hljs-property">dispatch</span>;
            <span class="hljs-keyword">var</span> chain         = [];
            <span class="hljs-keyword">var</span> middlewareAPI = {
              <span class="hljs-attr">getState</span>: store.<span class="hljs-property">getState</span>,
              <span class="hljs-attr">dispatch</span>: <span class="hljs-keyword">function</span> <span class="hljs-title function_">dispatch</span>(<span class="hljs-params">action</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">_dispatch</span>(action);
              }
            };
            chain             = middlewares.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">middleware</span>) {
              <span class="hljs-keyword">return</span> <span class="hljs-title function_">middleware</span>(middlewareAPI);
            });
            _dispatch         = _compose2[<span class="hljs-string">&quot;default&quot;</span>].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">undefined</span>, chain)(store.<span class="hljs-property">dispatch</span>);

            <span class="hljs-keyword">return</span> <span class="hljs-title function_">_extends</span>({}, store, {
              <span class="hljs-attr">dispatch</span>: _dispatch
            });
          };
        };
      }
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span></span>) {
      <span class="hljs-string">&#x27;use strict&#x27;</span>;
      <span class="hljs-built_in">exports</span>.<span class="hljs-property">__esModule</span> = <span class="hljs-literal">true</span>;
      <span class="hljs-built_in">exports</span>[<span class="hljs-string">&quot;default&quot;</span>] = bindActionCreators;
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">bindActionCreator</span>(<span class="hljs-params">actionCreator, dispatch</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">dispatch</span>(actionCreator.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-variable language_">arguments</span>));
        };
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">bindActionCreators</span>(<span class="hljs-params">actionCreators, dispatch</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> actionCreators === <span class="hljs-string">&#x27;function&#x27;</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">bindActionCreator</span>(actionCreators, dispatch);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> actionCreators !== <span class="hljs-string">&#x27;object&#x27;</span> || actionCreators === <span class="hljs-literal">null</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;bindActionCreators expected an object or a function, instead received &#x27;</span> + (actionCreators === <span class="hljs-literal">null</span> ? <span class="hljs-string">&#x27;null&#x27;</span> : <span class="hljs-keyword">typeof</span> actionCreators) + <span class="hljs-string">&#x27;. &#x27;</span> + <span class="hljs-string">&#x27;Did you write &quot;import ActionCreators from&quot; instead of &quot;import * as ActionCreators from&quot;?&#x27;</span>);
        }
        <span class="hljs-keyword">var</span> keys                = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(actionCreators);
        <span class="hljs-keyword">var</span> boundActionCreators = {};
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; keys.<span class="hljs-property">length</span>; i++) {
          <span class="hljs-keyword">var</span> key           = keys[i];
          <span class="hljs-keyword">var</span> actionCreator = actionCreators[key];
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> actionCreator === <span class="hljs-string">&#x27;function&#x27;</span>) {
            boundActionCreators[key] = <span class="hljs-title function_">bindActionCreator</span>(actionCreator, dispatch);
          }
        }
        <span class="hljs-keyword">return</span> boundActionCreators;
      }
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span>, __webpack_require__</span>) {
      <span class="hljs-string">&#x27;use strict&#x27;</span>;
      <span class="hljs-built_in">exports</span>.<span class="hljs-property">__esModule</span>  = <span class="hljs-literal">true</span>;
      <span class="hljs-built_in">exports</span>[<span class="hljs-string">&quot;default&quot;</span>]  = combineReducers;
      <span class="hljs-keyword">var</span> _createStore    = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">2</span>);
      <span class="hljs-keyword">var</span> _isPlainObject  = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">4</span>);
      <span class="hljs-keyword">var</span> _isPlainObject2 = <span class="hljs-title function_">_interopRequireDefault</span>(_isPlainObject);
      <span class="hljs-keyword">var</span> _warning        = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">3</span>);
      <span class="hljs-keyword">var</span> _warning2       = <span class="hljs-title function_">_interopRequireDefault</span>(_warning);

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">_interopRequireDefault</span>(<span class="hljs-params">obj</span>) {
        <span class="hljs-keyword">return</span> obj &amp;&amp; obj.<span class="hljs-property">__esModule</span> ? obj : {<span class="hljs-string">&quot;default&quot;</span>: obj};
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUndefinedStateErrorMessage</span>(<span class="hljs-params">key, action</span>) {
        <span class="hljs-keyword">var</span> actionType = action &amp;&amp; action.<span class="hljs-property">type</span>;
        <span class="hljs-keyword">var</span> actionName = actionType &amp;&amp; <span class="hljs-string">&#x27;&quot;&#x27;</span> + actionType.<span class="hljs-title function_">toString</span>() + <span class="hljs-string">&#x27;&quot;&#x27;</span> || <span class="hljs-string">&#x27;an action&#x27;</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Given action &#x27;</span> + actionName + <span class="hljs-string">&#x27;, reducer &quot;&#x27;</span> + key + <span class="hljs-string">&#x27;&quot; returned undefined. &#x27;</span> + <span class="hljs-string">&#x27;To ignore an action, you must explicitly return the previous state.&#x27;</span>;
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUnexpectedStateShapeWarningMessage</span>(<span class="hljs-params">inputState, reducers, action</span>) {
        <span class="hljs-keyword">var</span> reducerKeys  = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(reducers);
        <span class="hljs-keyword">var</span> argumentName = action &amp;&amp; action.<span class="hljs-property">type</span> === _createStore.<span class="hljs-property">ActionTypes</span>.<span class="hljs-property">INIT</span> ? <span class="hljs-string">&#x27;initialState argument passed to createStore&#x27;</span> : <span class="hljs-string">&#x27;previous state received by the reducer&#x27;</span>;
        <span class="hljs-keyword">if</span> (reducerKeys.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Store does not have a valid reducer. Make sure the argument passed &#x27;</span> + <span class="hljs-string">&#x27;to combineReducers is an object whose values are reducers.&#x27;</span>;
        }
        <span class="hljs-keyword">if</span> (!(<span class="hljs-number">0</span>, _isPlainObject2[<span class="hljs-string">&quot;default&quot;</span>])(inputState)) {
          <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;The &#x27;</span> + argumentName + <span class="hljs-string">&#x27; has unexpected type of &quot;&#x27;</span> + {}.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(inputState).<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\s([a-z|A-Z]+)/</span>)[<span class="hljs-number">1</span>] + <span class="hljs-string">&#x27;&quot;. Expected argument to be an object with the following &#x27;</span> + (<span class="hljs-string">&#x27;keys: &quot;&#x27;</span> + reducerKeys.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&quot;, &quot;&#x27;</span>) + <span class="hljs-string">&#x27;&quot;&#x27;</span>);
        }
        <span class="hljs-keyword">var</span> unexpectedKeys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(inputState).<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) {
          <span class="hljs-keyword">return</span> !reducers.<span class="hljs-title function_">hasOwnProperty</span>(key);
        });
        <span class="hljs-keyword">if</span> (unexpectedKeys.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Unexpected &#x27;</span> + (unexpectedKeys.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">&#x27;keys&#x27;</span> : <span class="hljs-string">&#x27;key&#x27;</span>) + <span class="hljs-string">&#x27; &#x27;</span> + (<span class="hljs-string">&#x27;&quot;&#x27;</span> + unexpectedKeys.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&quot;, &quot;&#x27;</span>) + <span class="hljs-string">&#x27;&quot; found in &#x27;</span> + argumentName + <span class="hljs-string">&#x27;. &#x27;</span>) + <span class="hljs-string">&#x27;Expected to find one of the known reducer keys instead: &#x27;</span> + (<span class="hljs-string">&#x27;&quot;&#x27;</span> + reducerKeys.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&quot;, &quot;&#x27;</span>) + <span class="hljs-string">&#x27;&quot;. Unexpected keys will be ignored.&#x27;</span>);
        }
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">assertReducerSanity</span>(<span class="hljs-params">reducers</span>) {
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(reducers).<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) {
          <span class="hljs-keyword">var</span> reducer      = reducers[key];
          <span class="hljs-keyword">var</span> initialState = <span class="hljs-title function_">reducer</span>(<span class="hljs-literal">undefined</span>, {<span class="hljs-attr">type</span>: _createStore.<span class="hljs-property">ActionTypes</span>.<span class="hljs-property">INIT</span>});
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> initialState === <span class="hljs-string">&#x27;undefined&#x27;</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Reducer &quot;&#x27;</span> + key + <span class="hljs-string">&#x27;&quot; returned undefined during initialization. &#x27;</span> + <span class="hljs-string">&#x27;If the state passed to the reducer is undefined, you must &#x27;</span> + <span class="hljs-string">&#x27;explicitly return the initial state. The initial state may &#x27;</span> + <span class="hljs-string">&#x27;not be undefined.&#x27;</span>);
          }
          <span class="hljs-keyword">var</span> type = <span class="hljs-string">&#x27;@@redux/PROBE_UNKNOWN_ACTION_&#x27;</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">7</span>).<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;.&#x27;</span>);
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">reducer</span>(<span class="hljs-literal">undefined</span>, {<span class="hljs-attr">type</span>: type}) === <span class="hljs-string">&#x27;undefined&#x27;</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Reducer &quot;&#x27;</span> + key + <span class="hljs-string">&#x27;&quot; returned undefined when probed with a random type. &#x27;</span> + (<span class="hljs-string">&#x27;Don\&#x27;t try to handle &#x27;</span> + _createStore.<span class="hljs-property">ActionTypes</span>.<span class="hljs-property">INIT</span> + <span class="hljs-string">&#x27; or other actions in &quot;redux/*&quot; &#x27;</span>) + <span class="hljs-string">&#x27;namespace. They are considered private. Instead, you must return the &#x27;</span> + <span class="hljs-string">&#x27;current state for any unknown actions, unless it is undefined, &#x27;</span> + <span class="hljs-string">&#x27;in which case you must return the initial state, regardless of the &#x27;</span> + <span class="hljs-string">&#x27;action type. The initial state may not be undefined.&#x27;</span>);
          }
        });
      }

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">combineReducers</span>(<span class="hljs-params">reducers</span>) {
        <span class="hljs-keyword">var</span> reducerKeys   = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(reducers);
        <span class="hljs-keyword">var</span> finalReducers = {};
</code></pre>
<p>提出不合法的reducers, finalReducers就是一个闭包变量</p>
<pre><code class="lang-js">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; reducerKeys.<span class="hljs-property">length</span>; i++) {
          <span class="hljs-keyword">var</span> key = reducerKeys[i];
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> reducers[key] === <span class="hljs-string">&#x27;function&#x27;</span>) {
            finalReducers[key] = reducers[key];
          }
        }
        <span class="hljs-keyword">var</span> finalReducerKeys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(finalReducers);
        <span class="hljs-keyword">var</span> sanityError;
        <span class="hljs-keyword">try</span> {
          <span class="hljs-title function_">assertReducerSanity</span>(finalReducers);
        } <span class="hljs-keyword">catch</span> (e) {
          sanityError = e;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">combination</span>(<span class="hljs-params"></span>) {
          <span class="hljs-keyword">var</span> state  = <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span> || <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>] === <span class="hljs-literal">undefined</span> ? {} : <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>];
          <span class="hljs-keyword">var</span> action = <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">1</span>];
          <span class="hljs-keyword">if</span> (sanityError) {
            <span class="hljs-keyword">throw</span> sanityError;
          }
          <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">var</span> warningMessage = <span class="hljs-title function_">getUnexpectedStateShapeWarningMessage</span>(state, finalReducers, action);
            <span class="hljs-keyword">if</span> (warningMessage) {
              (<span class="hljs-number">0</span>, _warning2[<span class="hljs-string">&quot;default&quot;</span>])(warningMessage);
            }
          }
          <span class="hljs-keyword">var</span> hasChanged = <span class="hljs-literal">false</span>;
          <span class="hljs-keyword">var</span> nextState  = {};
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; finalReducerKeys.<span class="hljs-property">length</span>; i++) {
            <span class="hljs-keyword">var</span> key                 = finalReducerKeys[i];
            <span class="hljs-keyword">var</span> reducer             = finalReducers[key];
            <span class="hljs-keyword">var</span> previousStateForKey = state[key];
            <span class="hljs-keyword">var</span> nextStateForKey     = <span class="hljs-title function_">reducer</span>(previousStateForKey, action);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> nextStateForKey === <span class="hljs-string">&#x27;undefined&#x27;</span>) {
              <span class="hljs-keyword">var</span> errorMessage = <span class="hljs-title function_">getUndefinedStateErrorMessage</span>(key, action);
              <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(errorMessage);
            }
            nextState[key] = nextStateForKey;
            hasChanged     = hasChanged || nextStateForKey !== previousStateForKey;
          }
          <span class="hljs-keyword">return</span> hasChanged ? nextState : state;
        };
</code></pre>
<p><code>combination</code>函数，一个总reducer，内部包含子reducer</p>
<pre><code class="lang-js">      }
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span></span>) {
      <span class="hljs-keyword">var</span> nativeGetPrototype = <span class="hljs-title class_">Object</span>.<span class="hljs-property">getPrototypeOf</span>;

      <span class="hljs-keyword">function</span> <span class="hljs-title function_">getPrototype</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">nativeGetPrototype</span>(<span class="hljs-title class_">Object</span>(value));
      }

      <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = getPrototype;
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span></span>) {
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">isHostObject</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-keyword">var</span> result = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">typeof</span> value.<span class="hljs-property">toString</span> != <span class="hljs-string">&#x27;function&#x27;</span>) {
          <span class="hljs-keyword">try</span> {
            result = !!(value + <span class="hljs-string">&#x27;&#x27;</span>);
          } <span class="hljs-keyword">catch</span> (e) {
          }
        }
        <span class="hljs-keyword">return</span> result;
      }

      <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = isHostObject;
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span></span>) {
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">isObjectLike</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-keyword">return</span> !!value &amp;&amp; <span class="hljs-keyword">typeof</span> value == <span class="hljs-string">&#x27;object&#x27;</span>;
      }

      <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = isObjectLike;
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span>, __webpack_require__</span>) {
      (<span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">global</span></span>) {
        <span class="hljs-string">&#x27;use strict&#x27;</span>;
        <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">12</span>)(<span class="hljs-variable language_">global</span> || <span class="hljs-variable language_">window</span> || <span class="hljs-variable language_">this</span>);
      }.<span class="hljs-title function_">call</span>(<span class="hljs-built_in">exports</span>, (<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
      }())))
    },
    <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span></span>) {
      <span class="hljs-string">&#x27;use strict&#x27;</span>;
      <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">symbolObservablePonyfill</span>(<span class="hljs-params">root</span>) {
        <span class="hljs-keyword">var</span> result;
        <span class="hljs-keyword">var</span> <span class="hljs-title class_">Symbol</span> = root.<span class="hljs-property">Symbol</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Symbol</span> === <span class="hljs-string">&#x27;function&#x27;</span>) {
          <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">observable</span>) {
            result = <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">observable</span>;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Symbol</span>[<span class="hljs-string">&#x27;for&#x27;</span>] === <span class="hljs-string">&#x27;function&#x27;</span>) {
              result = <span class="hljs-title class_">Symbol</span>[<span class="hljs-string">&#x27;for&#x27;</span>](<span class="hljs-string">&#x27;observable&#x27;</span>);
            } <span class="hljs-keyword">else</span> {
              result = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;observable&#x27;</span>);
            }
            <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">observable</span> = result;
          }
        } <span class="hljs-keyword">else</span> {
          result = <span class="hljs-string">&#x27;@@observable&#x27;</span>;
        }
        <span class="hljs-keyword">return</span> result;
      };
    }
  ])
});
;
</code></pre>

</div>

<div id="container-show" class="page__longan-container container-show">
  <div id="background"></div>
  <ul id="ul-show" class="sections"></ul>
</div>
<script type="text/javascript">
  console.time('test documentFragment')
  var presign = false;
  var itmp = 0;
  var oFragmeng = document.createDocumentFragment();
  var container_children = document.getElementById('container-hiddle').childNodes;

  for (var i = 0, length = container_children.length; i < length; i += 1) {
    var childClone = container_children[i].cloneNode(true);
    if (container_children[i].nodeName === 'H1' && container_children[i].nodeName !== '#text') {
      itmp = itmp + 1
      var li = document.createElement("li");
      li.setAttribute('id', 'section-' + itmp);
      var annotation = document.createElement("div");
      annotation.setAttribute('class', 'annotation');
      annotation.appendChild(childClone);
      li.appendChild(annotation);
      oFragmeng.appendChild(li);
    } else if (container_children[i].nodeName !== '#text') {
      itmp = itmp + 1
      var li = document.createElement("li");
      var annotation = document.createElement("div");
      var pilwrap = document.createElement("div");
      var pilcrow = document.createElement("a");

      li.setAttribute('id', 'section-' + itmp);
      annotation.setAttribute('class', 'annotation');
      pilwrap.setAttribute('class', 'pilwrap');
      pilcrow.setAttribute('class', 'pilcrow');

      pilcrow.href = '#section-' + itmp;
      pilcrow.text = '¶'

      pilwrap.appendChild(pilcrow);
      annotation.appendChild(pilwrap);

      if (container_children[i].nodeName === 'PRE') {
        var content = document.createElement("div");
        var highlight = document.createElement("div");

        content.setAttribute('class', 'content');
        highlight.setAttribute('class', 'highlight');

        content.appendChild(highlight);
        highlight.appendChild(childClone);
        li.appendChild(annotation);
        li.appendChild(content);
        oFragmeng.appendChild(li);
        presign = true;
      } else {
        if (presign) {
          itmp = itmp - 1;
          oFragmeng.children['section-' + itmp].firstElementChild.appendChild(childClone);
          presign = false;
        } else {
          annotation.appendChild(childClone);
          li.appendChild(annotation);
          oFragmeng.appendChild(li);
        }
      }
    }
  }
  document.getElementById('ul-show').appendChild(oFragmeng);
  oFragmeng = null;
  console.timeEnd('test documentFragment')
</script>
<style type="text/css">
  .page__footer-toTop {
    display: inline-block;
    position: fixed;
    padding: 0;
    right: 10px;
    bottom: 10px;
    width: 50px;
    height: 50px;
    background: #ddd;
    color: rgba(39,174,96,.6);
    text-align: center;
    border-radius: 2px;
    z-index: 1;
  }
  .page__footer-toTop--icon {
    width: 30px;
    height: 30px;
    line-height: 30px;
    top: 10px;
    left: 10px;
    color: #fff;
    position: absolute;
    font-size: 24px;
    cursor: pointer;
    text-rendering: auto;
    display: inline-block;
    font-style: normal;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .page__footer-content {
    
  }
  .page__footer-content--flex {
    display: flex;
  }
  .page__footer-content--license {
    margin-right: 20px;
  }
  .page__footer-content--thread {
    color: #666666;
  }
  .page__footer-content--thread p {
    margin: 5px 0 0 0;
    font-size: 12px;
  }
  .page__footer-content--thread p:first-of-type {
    margin: 0;
  }
  .page__footer-section {

  }
  .page__footer-section--word {
    padding: 0;
    margin: 0.5em 0;
    font-weight: 700;
    break-inside: avoid-column;
    word-break: break-all;
    word-wrap: break-word;
  }
  .page__footer-section--word a {
    text-decoration: none;
    cursor: pointer;
    color: #ba832c;
    font-weight: 700;
  }
</style>
<hr>
<div class="page__footer-toTop"><i class="page__footer-toTop--icon iconfont">&#xe602;</i></div>
<div class="page__footer-content">
  <div class="page__footer-content--flex">
    <div class="page__footer-content--license">
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">
        <img alt="Creative Commons License" style="border-width:0" src="https://iframe.kangkk.cn/static/image/licensebuttons.png" />
      </a>
    </div>
    <div class="page__footer-content--thread">
      <p><b>ID</b>: 501b596c0e5a3d39e18d151c8dc00f99</p>
      <p><b>TITLE</b>: reduxjs</p>
      <p><b>URL</b>: http://kangkk.com/cn/501b596c0e5a3d39e18d151c8dc00f99.html</p>
    </div>
  </div>
  <section class="page__footer-section">
    <p class="page__footer-section--word">This work is licensed under a <a rel="license"
        href="https://creativecommons.org/licenses/by-nc-nd/3.0/cn/" target="_blank"> Creative Commons
        Attribution-NonCommercial-NoDerivatives 4.0 International License
      </a>. Reprint the 《<sub>
        reduxjs
      </sub>》 need signature "<sub>KangKK</sub>", and the url is <sub>
        http://kangkk.com/cn/501b596c0e5a3d39e18d151c8dc00f99.html
      </sub>.
    </p>
  </section>
</div>
<style type="text/css">
  footer {
    margin-top: 10px;
    margin-bottom: 40px;
    border-top: 1px solid #e5e5e5;
    padding-top: 10px;
    width: 400px;
    font: 14px/1.5 Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-weight: 400;
  }
  footer a {
    color: #39c;
    text-decoration: none;
  }
  footer .iconfont {
    color: #39c;
    font-size: 12px;
  }
  footer img {
    width: 12px;
  }
</style>
<footer>
  <small>
    Copyright ©2006-2023 康健生活, All Rights Reserved ➤ 
    <a href="./readme.html">README</a>
  </small>
  <br>
  <small>Living in China. 
    <a href="http://kangkk.com/" target="_blank">KangKK.COM</a> ➤ 
    <a href="https://kangkk.cn/" target="_blank">KangKK.CN</a> ➤ 〔♩ 
    <a href="./map.html"><i class="iconfont">&#xe60b;</i></a> ♪ 
    <a href="https://KangKK.NOTION.SITE"><i class="iconfont">&#xec37;</i></a> ♫ 
    <a href="#"><i class="iconfont">&#xf1b5;</i></a> ♬〕
  </small>
  <br>
  <small><a href="https://beian.miit.gov.cn/" target="_blank">京ICP备16020839号-1</a> ➤ <a target="_blank"
      href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=23128202000134"><img src="https://gw.alicdn.com/tfs/TB1jwakrbH1gK0jSZFwXXc7aXXa-20-20.png" alt="黑公网安备"/> 黑公网安备
      23128202000134号</a></small>
</footer>
  <script type="text/javascript">
    !function ($) {
      $(window).scroll(function () {
        $(this).scrollTop() > 100 ? $(".page__footer-toTop").fadeIn() : $(".page__footer-toTop").fadeOut()
      }), $(".page__footer-toTop").on("click", function (b) {
        return b.preventDefault(), $("html, body").animate({
          scrollTop: 0
        }, 100), !1
      });
    }(jQuery);
  </script>
  </body>

  </html>